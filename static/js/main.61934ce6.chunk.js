(this["webpackJsonptaskhub-fe"]=this["webpackJsonptaskhub-fe"]||[]).push([[0],{120:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,d,u,b,j,l,O,f,p,x,g,h,v,y,m,k,C,w,F,E,S,D,T,I,N,R,L,A,M,U,P,z,Y,_,B,K,q,H,W,G,J=n(1),V=n.n(J),X=n(92),Z=(n(120),n(42)),Q=n(19),$=n(24),ee=n(20),te=n(21),ne=n(98),re=n.n(ne),ce=n(97),ae=n.n(ce),ie=n(16),oe=n(37),se=n(93),de=n(29),ue={apiKey:"AIzaSyBh36cGPXJH-cyb2giOsJet7VDEKZ3MVsU",authDomain:"my-task-hub.firebaseapp.com",databaseURL:"https://my-task-hub-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-task-hub",storageBucket:"my-task-hub.appspot.com",messagingSenderId:"941408350272",appId:"1:941408350272:web:a0f5bfc5afbcbbcb3defa5",measurementId:"G-485HGNY5X9"},be=n(8),je=V.a.createContext({successIndicator:!1,errorList:[],indicateSuccess:function(){},addError:function(e){},clearErrorList:function(){}}),le=function(e){var t=e.children,n=Object(J.useState)(!1),r=Object(ie.a)(n,2),c=r[0],a=r[1],i=Object(J.useState)([]),o=Object(ie.a)(i,2),s=o[0],d=o[1],u=Object(J.useState)(!1),b=Object(ie.a)(u,2),j=b[0],l=b[1];Object(J.useEffect)((function(){try{var e=function(){var e=Object(se.a)(ue);return Object(de.b)(e)}();console.log("Initialize Firebase... done"),e&&l(!0)}catch(t){console.error("initializind database failed",t)}}),[]);var O={successIndicator:c,errorList:s,indicateSuccess:function(){a(!0),setTimeout((function(){return a(!1)}),1e3)},addError:function(e){d([].concat(Object($.a)(s),[e]))},clearErrorList:function(){d([])},ready:j};return Object(be.jsx)(je.Provider,{value:O,children:t})},Oe=je,fe=n(22),pe=V.a.createContext({uid:"",displayName:"",email:"",isLoggedIn:function(){return Boolean}}),xe=function(e){var t=e.children,n=Object(J.useState)(""),r=Object(ie.a)(n,2),c=r[0],a=r[1],i=Object(J.useState)(""),o=Object(ie.a)(i,2),s=o[0],d=o[1],u=Object(J.useState)(""),b=Object(ie.a)(u,2),j=b[0],l=b[1],O=Object(J.useContext)(Oe).ready,f=function(){var e=Object(J.useContext)(Oe),t=e.addError,n=e.ready,r=e.indicateSuccess;return{storeUser:function(e,c,a){if(n){var i=Object(de.b)(),o=Object(de.c)(i,"user/".concat(e));Object(de.a)(o).then((function(e){var n=e.exists()?e.val():{},i=Object(fe.a)(Object(fe.a)({},n),{},{mail:a,displayName:c});Object(de.d)(o,i).then(r()).catch((function(e){return t("User update/creation failed: "+e)}))}))}else t("Database not ready to record user.")}}}(),p=f.storeUser;Object(J.useEffect)((function(){if(O){var e=Object(oe.b)();return Object(oe.c)(e,(function(e){e?(c!==e.uid&&p(e.uid,e.displayName,e.email),a(e.uid),d(e.displayName),l(e.email)):(a(""),d(""),l(""))}))}}),[O]);var x={uid:c,displayName:s,email:j,isLoggedIn:function(){return!!c}};return Object(be.jsx)(pe.Provider,{value:x,children:t})},ge=pe,he=(n(91),"/taskhub-fe"),ve="/taskhub-fe/categories",ye=te.a.header(r||(r=Object(ee.a)(["\n  height: 3.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #007799;\n  padding-left: 20px;\n  padding-right: 20px;\n  gap: 15px;\n  color: white;\n\n  a {\n    text-decoration: none;\n    color: white;\n    font-weight: bold;\n  }\n\n  a:hover,\n  a:active,\n  a.active {\n    color: #e0f5ff;\n  }\n"]))),me=te.a.div(c||(c=Object(ee.a)(["\n  flex-grow: 1;\n"]))),ke=te.a.div(a||(a=Object(ee.a)(["\n  background-color: #ee8888;\n  color: white;\n  padding: 10px 20px 10px;\n\n  li {\n    list-style-type: none;\n  }\n"]))),Ce=Object(te.a)(ae.a)(i||(i=Object(ee.a)(["\n  font-size: 1.4rem;\n"]))),we=function(e){var t=e.page,n=Object(J.useContext)(Oe),r=n.successIndicator,c=n.errorList,a=n.addError,i=n.ready,o=Object(J.useContext)(ge),s=o.displayName,d=o.isLoggedIn,u=i&&Object(oe.b)(),b=Object(J.useCallback)((function(){Object(oe.d)(u).catch((function(e){return a("Sign out failed: ",e)}))}),[u,a]);return i?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(ye,{children:[Object(be.jsx)(me,{children:Object(be.jsxs)("a",{href:"/tasks",children:["\ud83d\udcdd TaskHub ",">>"," ",t]})}),r&&Object(be.jsx)(re.a,{}),d()&&Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Z.b,{to:ve,children:"Categories"}),s,Object(be.jsx)("a",{href:he,onClick:b,children:Object(be.jsx)(Ce,{})})]})]}),c.length>0&&Object(be.jsx)(ke,{children:c.map((function(e){return Object(be.jsx)("li",{children:e},e)}))})]}):Object(be.jsx)(ye,{children:Object(be.jsx)(me,{children:Object(be.jsxs)("a",{href:"/tasks",children:["\ud83d\udcdd TaskHub ",">>"," Loading..."]})})})},Fe=n(99),Ee=["style","className","innerRef","children"],Se=te.a.div(o||(o=Object(ee.a)(["\n    padding: 1rem;\n    border-radius: 5px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n    margin-top: 10px;\n"]))),De=function(e){var t=e.style,n=e.className,r=e.innerRef,c=e.children,a=Object(Fe.a)(e,Ee);return Object(be.jsx)(Se,Object(fe.a)(Object(fe.a)({style:t,className:n,ref:r},a),{},{children:c}))},Te=n(103),Ie=n.n(Te),Ne=te.a.button(s||(s=Object(ee.a)(["\n  display: inline-block;\n  color: #007799;\n  background-color: #FFFFFF;\n  font-size: 1em;\n  padding: 0.25em 0.5em;\n  border: 2px solid #007799;\n  border-radius: 3px;\n  display: block;\n\n  ","\n"])),(function(e){return e.primary&&"\n    background: #007799;\n    color: #FFFFFF;\n  "})),Re=te.a.div(d||(d=Object(ee.a)(["\n  padding: 0.3rem;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n  margin-top: 10px;\n  opacity: 1;\n\n  transform: translateY(0%);\n  transition: opacity 0.5s, transform 0.5s ease-in;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return e.overdue&&"\n    background: #FFDDDD;\n  "}),(function(e){return e.editMode&&"\n    background: #E0F5FF;\n    padding-bottom: 0.6rem;\n    position: relative;\n    z-index: 99;\n  "}),(function(e){return e.done&&"\n    color: grey;\n  "}),(function(e){return e.remove&&"\n    opacity: 0;\n    transform: translateY(100%);\n  "}),(function(e){var t=e.remove,n=e.done;return t&&n&&"\n    transform: translateY(-100%);\n  "})),Le=function(e){var t=e.overdue,n=e.editMode,r=e.children,c=e.done,a=e.remove;return Object(be.jsx)(Re,{overdue:t,editMode:n,done:c,remove:a,children:r})},Ae=te.a.input(u||(u=Object(ee.a)(["\n  width: 100%;\n  height: 24px;\n  border: 2px solid #007799;\n  border-radius: 3px;\n\n  :focus {\n    border: 2px solid #007799;\n  }\n\n  ","\n"])),(function(e){return e.validationError&&"\n    border: 2px solid #AA6666;\n    background-color: #FFDDDD;\n  "})),Me=function(e){var t=e.onChange,n=e.value,r=e.validationError;return Object(be.jsx)(Ae,{onChange:t,value:n,validationError:r})},Ue=te.a.div(b||(b=Object(ee.a)(["\n  flex-grow: 1;\n  padding-right: 10px;\n"]))),Pe=te.a.div(j||(j=Object(ee.a)(["\n  font-size: 9pt;\n  color: #003333;\n"]))),ze=function(e){var t=e.description,n=e.children;return Object(be.jsxs)(Ue,{children:[Object(be.jsx)(Pe,{children:t}),n]})},Ye=te.a.select(l||(l=Object(ee.a)(["\n  width: 100%;\n  height: 30px;\n  border: 2px solid #007799;\n  border-radius: 3px;\n  background-color: white;\n\n  :disabled {\n    background-color: #EEEEEE;\n  }\n\n  :focus {\n    border: 2px solid #007799;\n  }\n"]))),_e=function(e){var t=e.entries,n=e.onChange,r=e.selectedKey,c=e.disabled;return Object(be.jsx)(Ye,{onChange:n,value:r,disabled:c,children:t.map((function(e){return Object(be.jsx)("option",{value:e.key,children:e.name},e.key||"unknown")}))})},Be=n(100),Ke=n.n(Be),qe=Object(te.a)(Ke.a)(O||(O=Object(ee.a)(["\n  width: 100%;\n  height: 24px;\n  border: 2px solid #007799;\n  border-radius: 3px;\n\n  :focus {\n    border: 2px solid #007799;\n  }\n\n  ","\n"])),(function(e){return e.validationError&&"\n    border: 2px solid #AA6666;\n    background-color: #FFDDDD;\n  "})),He="Low",We="Medium",Ge="High",Je=[He,We,Ge],Ve="DAILY",Xe="WEEKLY",Ze="MONTHLY",Qe="YEARLY",$e=[{name:"Daily",key:Ve},{name:"Weely",key:Xe},{name:"Monthly",key:Ze},{name:"Yearly",key:Qe}],et="AFTER_DUE",tt="AFTER_COMPLETE",nt=[{name:"after due",key:et},{name:"after complete",key:tt}],rt="Uncategorized",ct=n(199),at=n(0),it=n(6),ot=function(){var e=Object(J.useContext)(Oe),t=e.addError,n=e.indicateSuccess,r=e.ready,c=Object(J.useState)(!1),a=Object(ie.a)(c,2),i=a[0],o=a[1],s=function(){var e=Object(it.a)(Object(at.a)().mark((function e(c,a){var i,o,s;return Object(at.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return t("Task update/creation failed: Database not ready."),e.abrupt("return");case 3:i=Object(fe.a)(Object(fe.a)({},c),{},{due:c.due&&c.due.getTime(),closedOn:c.closedOn&&c.closedOn.getTime()}),Object.keys(i).forEach((function(e){return void 0===i[e]&&delete i[e]})),o=Object(de.b)(),s=Object(de.c)(o,"tasks/".concat(a,"/").concat(i.key)),Object(de.d)(s,i).then(n()).catch((function(e){return t("Task update/creation failed: "+e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(it.a)(Object(at.a)().mark((function e(r,c){var a,i;return Object(at.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(de.b)(),i=Object(de.c)(a,"tasks/".concat(c,"/").concat(r)),Object(de.d)(i,null).then(n()).catch((function(e){return t("Task removal failed: "+e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{listenToTaskList:function(e,c){if(r)if(i)t("WARN: Prevented from listening to tasklist multiple times.");else{o(!0);var a=Object(de.b)(),s=Object(de.c)(a,"tasks/"+c);Object(de.a)(s).then((function(t){if(t.exists()){var r=Object.values(t.val()).map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{due:e.due&&new Date(e.due),closedOn:e.closedOn&&new Date(e.closedOn)})}));e(r),n()}else console.warn("No tasks were obtained by firebase.")}),(function(e){return t("Getting tasks failed: "+e)}))}else t("Getting taks failed: Database not ready.")},updateTask:s,removeTask:d}},st=V.a.createContext({tasks:[],addTask:function(e){},removeTask:function(e){},toggleResolved:function(e){},modifyTask:function(e){},unassignAllTasksFromCategory:function(e){}}),dt=function(e){var t=Object(J.useContext)(ge).uid,n=Object(J.useState)([]),r=Object(ie.a)(n,2),c=r[0],a=r[1],i=ot(),o=i.updateTask,s=i.removeTask,d=function(e){var n=Object(fe.a)(Object(fe.a)({},e),{},{key:Object(ct.a)()});a([].concat(Object($.a)(c),[n])),o(n,t)},u=function(e){a(c.map((function(t){return t.key!==e.key?t:e}))),o(e,t)},b={tasks:c,setTasks:a,addTask:d,removeTask:function(e){a(c.filter((function(t){return t.key!==e}))),s(e,t)},toggleResolved:function(e){var n=c.find((function(t){return t.key===e}));if(n.done=!n.done,n.closedOn=n.done?new Date:null,a(c.map((function(t){return t.key===e?n:t}))),o(n,t),n.recurrenceMode&&n.done){var r=n.recurrenceMode===tt?new Date:new Date(n.due.getTime()),i=n.recurrenceFrequency;i===Ve?r.setDate(r.getDate()+1):i===Xe?r.setDate(r.getDate()+7):i===Ze?r.setMonth(r.getMonth()+1):i===Qe&&r.setFullYear(r.getFullYear()+1);var s=Object(fe.a)(Object(fe.a)({},n),{},{due:r,done:!1,closedOn:void 0});d(s)}},modifyTask:u,unassignAllTasksFromCategory:function(e){c.filter((function(t){return t.category===e})).forEach((function(e){return u(Object(fe.a)(Object(fe.a)({},e),{},{category:void 0}))}))}};return Object(be.jsx)(st.Provider,{value:b,children:e.children})},ut=st,bt=V.a.createContext({categories:[],saveCategory:function(e){},removeCategory:function(e){},updateOrder:function(e){}}),jt=function(e){var t=Object(J.useContext)(ge),n=t.uid,r=t.addError,c=Object(J.useContext)(ut).unassignAllTasksFromCategory,a=Object(J.useState)([]),i=Object(ie.a)(a,2),o=i[0],s=i[1],d=function(){var e=Object(J.useContext)(Oe),t=e.addError,n=e.indicateSuccess,r=e.ready,c=Object(J.useCallback)((function(e,c){if(r&&c){var a=Object(de.b)(),i=Object(de.c)(a,"categories/"+c);Object(de.a)(i).then((function(t){if(t.exists()){var r=Object.values(t.val()).map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{due:e.due&&new Date(e.due)})}));e(r),n()}else console.warn("No categories were obtained by firebase.")})).catch((function(e){console.error(e),t("Getting categories failed: "+e)}))}else console.warn("Firebase not ready.")}),[t,n,r]),a=function(){var e=Object(it.a)(Object(at.a)().mark((function e(r,c){var a,i,o,s;return Object(at.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(fe.a)(Object(fe.a)({},r),{},{due:null===(a=r.due)||void 0===a?void 0:a.getTime()}),Object.keys(i).forEach((function(e){return void 0===i[e]&&delete i[e]})),o=Object(de.b)(),s=Object(de.c)(o,"categories/".concat(c,"/").concat(i.key)),Object(de.d)(s,i).then(n()).catch((function(e){return t("Category update/creation failed: "+e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(it.a)(Object(at.a)().mark((function e(r,c){var a,i;return Object(at.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(de.b)(),i=Object(de.c)(a,"categories/".concat(c,"/").concat(r)),Object(de.d)(i,null).then(n()).catch((function(e){return t("Category removal failed: "+e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{fetchCategories:c,updateCategory:a,deleteCategory:i}}(),u=d.fetchCategories,b=d.updateCategory,j=d.deleteCategory;Object(J.useEffect)((function(){u(s,n)}),[n]);var l={categories:o,saveCategory:function(e){if(e.name){var t=Object(fe.a)({key:Object(ct.a)()},e),c=o.filter((function(e){return e.key!==t.key}));s([].concat(Object($.a)(c),[t])),b(t,n)}else r("Category name cannot be empty")},removeCategory:function(e){c(e),s(o.filter((function(t){return t.key!==e}))),j(e,n)},updateOrder:function(e){for(var t=function(t){var r=o.find((function(n){return n.key===e[t].key}));r.order!==t&&(b(Object(fe.a)(Object(fe.a)({},r),{},{order:t}),n),r.order=t)},r=0;r<e.length;r++)t(r)}};return Object(be.jsx)(bt.Provider,{value:l,children:e.children})},lt=bt,Ot=te.a.div(f||(f=Object(ee.a)(["\n  margin-top: 7px;\n  display: flex;\n  gap: 10px;\n  width: 100%;\n  flex-wrap: wrap;\n"]))),ft=te.a.div(p||(p=Object(ee.a)(["\n  display: flex;\n  gap: 10px;\n  min-width: 300px;\n"]))),pt=te.a.input(x||(x=Object(ee.a)(["\n  height: 17px;\n"]))),xt=function(e){var t,n=e.category,r=e.setCategory,c=e.due,a=e.setDue,i=e.priority,o=e.setPriority,s=e.recurring,d=e.setRecurring,u=Object(J.useContext)(lt).categories,b=null===u||void 0===u||null===(t=u.sort((function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()})))||void 0===t?void 0:t.filter((function(e){return!e.hidden})),j=[{key:void 0,name:rt}].concat(Object($.a)(b)),l=c instanceof Date?c:void 0,O=Object(J.useState)(!!s.frequency),f=Object(ie.a)(O,2),p=f[0],x=f[1],g=Je.map((function(e){return{key:e,name:e}}));return Object(be.jsxs)(Ot,{children:[Object(be.jsx)(ze,{description:"Category",children:Object(be.jsx)(_e,{entries:j,selectedKey:n||rt,onChange:function(e){return r(e.target.options[e.target.selectedIndex].value)}})}),Object(be.jsx)(ze,{description:"Due",children:Object(be.jsx)(qe,{selected:l,onChange:function(e){return a(e)},dateFormat:"dd.MM.yyyy",validationError:s.invalid})}),Object(be.jsx)(ze,{name:"priority",description:"Priority",children:Object(be.jsx)(_e,{entries:g,selectedKey:i,onChange:function(e){return o(e.target.options[e.target.selectedIndex].value)}})}),Object(be.jsx)(be.Fragment,{children:Object(be.jsx)(ze,{description:"Recurring",children:Object(be.jsxs)(ft,{children:[Object(be.jsx)(pt,{type:"checkbox",onChange:function(){return d(p?{}:{mode:tt,frequency:Xe}),void x(!p)},checked:p}),Object(be.jsx)(_e,{disabled:!p,entries:p?$e:[],selectedKey:s.frequency,onChange:function(e){return d(Object(fe.a)(Object(fe.a)({},s),{},{frequency:e.target.options[e.target.selectedIndex].value}))}}),Object(be.jsx)(_e,{disabled:!p,entries:p?nt:[],selectedKey:s.mode,onChange:function(e){return d(Object(fe.a)(Object(fe.a)({},s),{},{mode:e.target.options[e.target.selectedIndex].value}))}})]})})})]})},gt=Object(te.a)(Ne)(g||(g=Object(ee.a)(["\n  margin-top: 15px;\n"]))),ht=te.a.div(h||(h=Object(ee.a)(["\n  display: flex;\n  gap: 10px;\n"]))),vt=function(e){var t=e.task,n=e.toggleEditMode,r=Object(J.useState)(t.title),c=Object(ie.a)(r,2),a=c[0],i=c[1],o=Object(J.useState)(t.category),s=Object(ie.a)(o,2),d=s[0],u=s[1],b=Object(J.useState)(t.due),j=Object(ie.a)(b,2),l=j[0],O=j[1],f=Object(J.useState)(t.priority),p=Object(ie.a)(f,2),x=p[0],g=p[1],h=Object(J.useState)({mode:t.recurrenceMode,frequency:t.recurrenceFrequency}),v=Object(ie.a)(h,2),y=v[0],m=v[1],k=Object(J.useContext)(ut),C=k.removeTask,w=k.modifyTask;return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(ht,{children:[Object(be.jsx)(ze,{description:"Task",children:Object(be.jsx)(Me,{value:a,name:"title",onChange:function(e){return i(e.target.value)}})}),Object(be.jsx)(gt,{onClick:function(){return w(Object(fe.a)(Object(fe.a)({},t),{},{title:a,category:d,due:l,priority:x,recurrenceMode:y.mode,recurrenceFrequency:y.frequency})),void n()},primary:!0,children:"Save"}),Object(be.jsx)(gt,{onClick:function(){return C(t.key)},children:"Delete"})]}),Object(be.jsx)(xt,{category:d,setCategory:u,due:l,setDue:O,priority:x,setPriority:g,recurring:y,setRecurring:m})]})},yt=te.a.div(v||(v=Object(ee.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),mt=te.a.input(y||(y=Object(ee.a)(["\n  height: 17px;\n"]))),kt=te.a.div(m||(m=Object(ee.a)(["\n  flex-grow: 1;\n\n  ","\n"])),(function(e){return e.done&&"\n    text-decoration: line-through;\n  "})),Ct=te.a.div(k||(k=Object(ee.a)(["\n  font-weight: bold;\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return e.priority===Ge&&"\n    color: red;\n  "}),(function(e){return e.priority===We&&"\n    color: orange;\n  "}),(function(e){return e.priority===He&&"\n    color: green;\n  "})),wt=function(e){if(e instanceof Date){var t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear();return"".concat(t,".").concat(n,".").concat(r)}},Ft=function(e){var t=e.task,n=Object(J.useContext)(ut).toggleResolved,r=Object(J.useState)(!1),c=Object(ie.a)(r,2),a=c[0],i=c[1],o=new Date,s=!(!t.due||"function"!==typeof t.due.getTime)&&(o>t.due.getTime()&&!t.done),d=Object(J.useState)(!1),u=Object(ie.a)(d,2),b=u[0],j=u[1],l=function(){return j(!b)},O=t.done?wt(t.closedOn):wt(t.due),f=Object(J.useCallback)((function(){setTimeout((function(){return n(t.key)}),500),i(!0)}),[i,t.key,n]);return Object(be.jsx)(Le,{overdue:s,editMode:b,done:t.done,remove:a,children:b?Object(be.jsx)(vt,{task:t,toggleEditMode:l}):Object(be.jsxs)(yt,{children:[Object(be.jsx)(mt,{type:"checkbox",onChange:function(){return f()},checked:t.done||a}),Object(be.jsx)(Ct,{priority:t.priority,children:"!"}),Object(be.jsxs)(kt,{done:t.done,children:[t.title," ",O&&"(".concat(O,")")]}),Object(be.jsx)(Ne,{onClick:function(){return l()},children:Object(be.jsx)(Ie.a,{fontSize:"small"})})]})})},Et=n(2),St={ALPHABETICAL:"Alphabetical",DUE_UNKNOWN_FIRST:"Due (unknown first)",DUE_UNKNOWN_LAST:"Due (unknown last)",PRIORITY:"Priority"},Dt=function(e,t){return e.due||t.due?e.due?t.due?e.due-t.due:-1:1:e.title>t.title},Tt=(C={},Object(Et.a)(C,St.ALPHABETICAL,(function(e,t){var n,r,c=null===(n=e.title)||void 0===n?void 0:n.toUpperCase(),a=null===(r=t.title)||void 0===r?void 0:r.toUpperCase();return c>a?1:c<a?-1:0})),Object(Et.a)(C,St.DUE_UNKNOWN_FIRST,(function(e,t){return e.due||t.due?e.due?t.due?e.due-t.due:1:-1:e.title>t.title})),Object(Et.a)(C,St.DUE_UNKNOWN_LAST,Dt),Object(Et.a)(C,St.PRIORITY,(function(e,t){return e.priority===t.priority?Dt(e,t):e.priority===Ge?-1:e.priority===He||t.priority===Ge?1:t.priority===He?-1:void 0})),C),It=n(104),Nt=n.n(It),Rt=te.a.div(w||(w=Object(ee.a)(["\n  display: inline-block;\n  overflow: hidden;\n  font-size: smaller;\n  vertical-align: bottom;\n  color: grey;\n"]))),Lt=te.a.div(F||(F=Object(ee.a)(["\n  transition:visibility 0.2s linear,opacity 0.2s linear;\n  display: block;\n  position: absolute;\n  background-color: #FFFFFF;\n  border-style: solid;\n  border-color: #BBBBBB;\n  border-radius: 3px;\n  border-width: 2px;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n  z-index: 1;\n\n  ","\n"])),(function(e){return e.showDropdown?"opacity: 100;":"opacity: 0; visibility:hidden"})),At=te.a.div(E||(E=Object(ee.a)(["\n  transition: all 0.1s linear;\n  padding: 5px;\n  ","\n"])),(function(e){return e.selected&&"\n    background: #E0F5FF;\n  "})),Mt=function(e){var t=e.setSortOrder,n=e.sortOrder,r=Object(J.useState)(!1),c=Object(ie.a)(r,2),a=c[0],i=c[1],o=Object(J.useCallback)((function(e){i(!1),t(e)}),[i,t]);return Object(be.jsxs)(Rt,{children:[Object(be.jsx)(Nt.a,{onClick:function(){return i(!a)},fontSize:"small"}),Object(be.jsx)(Lt,{showDropdown:a,children:Object.values(St).map((function(e){return Object(be.jsx)(At,{selected:e===n,onClick:function(){return o(e)},children:e},e)}))})]})},Ut=te.a.h2(S||(S=Object(ee.a)(["\n  font-size: 14pt;\n"]))),Pt=te.a.div(D||(D=Object(ee.a)(["\n  margin-top: 10px;\n  color: #007799;\n"]))),zt=Object(te.a)(De)(T||(T=Object(ee.a)(["\n  width: 400px;\n  flex-grow: 1;\n"]))),Yt=function(e){var t=e.taskCategory,n=e.tasks,r=Object(J.useState)(St.DUE_UNKNOWN_LAST),c=Object(ie.a)(r,2),a=c[0],i=c[1],o=Object(J.useState)(!1),s=Object(ie.a)(o,2),d=s[0],u=s[1],b=Tt[a],j=n.filter((function(e){return!e.done})).sort((function(e,t){return b(e,t)})),l=n.filter((function(e){return e.done})).sort((function(e,t){return function(e,t){return e.closedOn===t.closedOn?0:e.closedOn?t.closedOn?t.closedOn-e.closedOn:-1:1}(e,t)})),O=d?"- Hide closed tasks":"+ Show closed tasks";return Object(be.jsxs)(zt,{children:[Object(be.jsxs)(Ut,{children:[Object(be.jsx)(Mt,{setSortOrder:i,sortOrder:a})," ",t||"Uncategorized"]}),j.length>0?j.map((function(e){return Object(be.jsx)(Ft,{task:e},e.key)})):"Yay, no tasks",l.length>0&&Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Pt,{onClick:function(){return u(!d)},children:O}),d&&l.map((function(e){return Object(be.jsx)(Ft,{task:e},e.key)}))]})]})},_t=(n(173),Object(te.a)(De)(I||(I=Object(ee.a)(["\n  margin-left: 1rem;\n  margin-right: 1rem;\n  margin-bottom: 0px;\n  background-color: #e0f5ff;\n  max-height: 50px;\n  transition: max-height 0.3s linear;\n  height: fit-content;\n  overflow: hidden;\n\n  ","\n"])),(function(e){return e.advanced?"max-height: 200px;":"max-height: 50px;"}))),Bt=te.a.div(N||(N=Object(ee.a)(["\n  display: flex;\n  gap: 10px;\n"]))),Kt=Object(te.a)(Ne)(R||(R=Object(ee.a)(["\n  margin-top: 15px;\n"]))),qt=Object(te.a)(Bt)(L||(L=Object(ee.a)(["\n  transition: opacity 0.3s linear;\n  ","\n"])),(function(e){return e.advanced?"opacity: 1;":"opacity: 0;"})),Ht=function(){var e=Object(J.useState)((function(){return!1})),t=Object(ie.a)(e,2),n=t[0],r=t[1],c=Object(J.useContext)(ut).addTask,a=Object(J.useState)(""),i=Object(ie.a)(a,2),o=i[0],s=i[1],d=Object(J.useState)(void 0),u=Object(ie.a)(d,2),b=u[0],j=u[1],l=Object(J.useState)(We),O=Object(ie.a)(l,2),f=O[0],p=O[1],x=Object(J.useState)(void 0),g=Object(ie.a)(x,2),h=g[0],v=g[1],y=Object(J.useState)({}),m=Object(ie.a)(y,2),k=m[0],C=m[1],w=Object(J.useState)(!1),F=Object(ie.a)(w,2),E=F[0],S=F[1],D=Object(J.useState)(!0),T=Object(ie.a)(D,2),I=T[0],N=T[1],R=Object(J.useState)(!1),L=Object(ie.a)(R,2),A=L[0],M=L[1],U=Object(J.useContext)(lt).categories,P=Object(J.useMemo)((function(){return U.flatMap((function(e){var t,n=null===(t=e.rules)||void 0===t?void 0:t.map((function(e){return new RegExp(e)}));return null===n||void 0===n?void 0:n.map((function(t){return{pattern:t,category:e.key}}))})).filter((function(e){return!!e}))}),[U]),z=function(e){var t=e.mode!==et||!!h;N(t),C(Object(fe.a)(Object(fe.a)({},e),{},{invalid:!t}))};return Object(be.jsxs)(_t,{advanced:n,children:[Object(be.jsxs)(Bt,{children:[Object(be.jsx)(ze,{description:"New Task",children:Object(be.jsx)(Me,{value:o,name:"title",validationError:!E&&A,onChange:function(e){return function(e){var t=e.target.value;if(s(t),S(!!t),M(!0),void 0===b){var n=P.find((function(e){return e.pattern.test(t)}));j(null===n||void 0===n?void 0:n.category)}}(e)}})}),Object(be.jsx)(Kt,{onClick:function(){return r(!n)},children:n?"\u2796":"\u2795"}),Object(be.jsx)(Kt,{onClick:function(){return function(){var e={title:o,category:b,due:h,priority:f,recurrenceMode:k.mode,recurrenceFrequency:k.frequency};z(k),E&&I?(c(e),s(""),j(void 0),p(We),S(!1),M(!1),C({})):M(!0)}()},primary:!0,children:"Create"})]}),Object(be.jsx)(qt,{advanced:n,children:Object(be.jsx)(xt,{category:b,setCategory:j,due:h,setDue:function(e){var t=k.mode!==et||!!e;N(t),v(e),C(Object(fe.a)(Object(fe.a)({},k),{},{invalid:!t}))},priority:f,setPriority:p,recurring:k,setRecurring:z})})]})},Wt=te.a.div(A||(A=Object(ee.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: stretch;\n  gap: 15px;\n  padding: 1rem;\n"]))),Gt=function(){var e,t=Object(J.useContext)(lt).categories,n=null===t||void 0===t||null===(e=t.sort((function(e,t){return e.order>t.order?1:-1})))||void 0===e?void 0:e.filter((function(e){return!e.hidden})),r=[{key:void 0,name:"Uncategorized"}].concat(Object($.a)(n)),c=Object(J.useContext)(ut),a=c.tasks,i=c.setTasks,o=Object(J.useContext)(Oe).ready,s=ot().listenToTaskList,d=Object(J.useContext)(ge),u=d.isLoggedIn,b=d.uid;return Object(J.useEffect)((function(){o&&s(i,b)}),[o,b]),u()?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(we,{page:"Tasks"}),Object(be.jsx)(Ht,{}),Object(be.jsx)(Wt,{children:r.map((function(e){return Object(be.jsx)(Yt,{taskCategory:e.name,tasks:a.filter((function(t){return t.category===e.name||t.category===e.key}))},e.key||"undefined")}))})]}):Object(be.jsx)(Q.a,{to:"taskhub-fe/login",replace:!0})},Jt=n(105),Vt=n.n(Jt),Xt=n(75),Zt=n.n(Xt),Qt=te.a.span(M||(M=Object(ee.a)(["\n  border: 1px solid;\n  border-color: #007799;\n  background-color: #E0F5FF;\n  color: #007799;\n  padding: 0px 2px;\n  border-radius: 3px;\n  white-space:nowrap;\n\n  ","\n"])),(function(e){return e.editMode||"\n    font-size: smaller;\n  "})),$t=te.a.span(U||(U=Object(ee.a)(["\n  border: 1px solid;\n  border-color: #006666;\n  border-radius: 3px;\n  margin-right: -3px;\n  margin-left: 3px;\n  padding: 0px 5px;\n  background-color: #FFDDDD;\n  color: #CC8888;  \n"]))),en=function(e){var t=e.rule,n=e.handleRemoval,r=e.editMode;return Object(be.jsxs)(Qt,{editMode:r,children:[t,r&&Object(be.jsx)($t,{onClick:function(){return n(t)},children:"X"})]})},tn=te.a.div(P||(P=Object(ee.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),nn=Object(te.a)(Ne)(z||(z=Object(ee.a)(["\n  margin-top: 15px;\n"]))),rn=te.a.div(Y||(Y=Object(ee.a)(["\n  margin-top: 10px;\n  display: flex;\n  gap: 5px;\n  flex-wrap: wrap;\n"]))),cn=function(e){var t=e.category,n=e.resetEditedCategory,r=Object(J.useState)(""),c=Object(ie.a)(r,2),a=c[0],i=c[1],o=Object(J.useState)(!1),s=Object(ie.a)(o,2),d=s[0],u=s[1],b=Object(J.useState)([]),j=Object(ie.a)(b,2),l=j[0],O=j[1],f=Object(J.useState)(""),p=Object(ie.a)(f,2),x=p[0],g=p[1],h=Object(J.useContext)(lt).saveCategory,v=Object(J.useContext)(Oe).addError;Object(J.useEffect)((function(){i(t.name||""),O(t.rules||[]),u(t.hidden||!1)}),[t]);var y=Object(J.useCallback)((function(){try{new RegExp(x)}catch(e){return void v("Cannot add rule due to invalid format")}O([].concat(Object($.a)(l),[x])),g("")}),[l,x,g,O,v]),m=Object(J.useCallback)((function(e){O(l.filter((function(t){return t!==e})))}),[l,O]),k=Object(J.useCallback)((function(e){h(e),n()}),[n,h]),C=Object(fe.a)(Object(fe.a)({},t),{},{name:a,rules:l,hidden:d});return Object(be.jsxs)(De,{children:[Object(be.jsxs)(tn,{children:[Object(be.jsx)(ze,{description:"Name:",children:Object(be.jsx)(Me,{value:a,onChange:function(e){return i(e.target.value)}})}),Object(be.jsx)(nn,{onClick:function(){return u(!d)},primary:d,children:d?Object(be.jsx)(Zt.a,{style:{height:"17px"}}):Object(be.jsx)(Vt.a,{style:{height:"17px"}})}),Object(be.jsx)(nn,{onClick:function(){return k(C)},primary:!0,children:"Save"})]}),Object(be.jsxs)(tn,{children:[Object(be.jsx)(ze,{description:"Rules (Regex capable)",children:Object(be.jsx)(Me,{value:x,onChange:function(e){g(e.target.value)}})}),Object(be.jsx)(nn,{onClick:y,children:"Add"})]}),Object(be.jsx)(rn,{children:null===l||void 0===l?void 0:l.map((function(e){return Object(be.jsx)(en,{rule:e,handleRemoval:m,editMode:!0},e)}))})]})},an=te.a.div(_||(_=Object(ee.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n"]))),on=te.a.div(B||(B=Object(ee.a)(["\n  position: fixed;\n  top: 10%;\n  bottom: 10%;\n  right: 10%;\n  left: 10%;\n  background-color: #FFFFFF;\n  z-index: 3;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\n  padding: 0px 20px;\n  overflow: auto;\n"]))),sn=function(e){var t=e.children;return Object(be.jsx)(an,{children:Object(be.jsx)(on,{children:t})})},dn=n(62),un=n(107),bn=n.n(un),jn=te.a.div(K||(K=Object(ee.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n\n  ","\n"])),(function(e){return e.isEdited&&"\n    color: #666666;\n  "})),ln=te.a.div(q||(q=Object(ee.a)(["\n  flex-grow: 1;\n"]))),On=te.a.div(H||(H=Object(ee.a)(["\n  margin-top: 5px;\n  display: flex;\n  gap: 7px;\n  flex-wrap: wrap;\n"]))),fn=Object(te.a)(Zt.a)(W||(W=Object(ee.a)(["\n  color: #666666;\n  height: 17px;\n"]))),pn=function(e){var t=e.name,n=e.id,r=e.rules,c=e.handleEdit,a=e.isEdited,i=e.hidden,o=e.order,s=Object(J.useContext)(lt).removeCategory;return Object(be.jsx)(dn.b,{draggableId:n,index:o,children:function(e){return Object(be.jsxs)(De,Object(fe.a)(Object(fe.a)(Object(fe.a)({innerRef:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(be.jsxs)(jn,{isEdited:a,children:[Object(be.jsx)(bn.a,{}),Object(be.jsx)(ln,{children:t}),!a&&Object(be.jsxs)(be.Fragment,{children:[i&&Object(be.jsx)(fn,{}),Object(be.jsx)(Ne,{onClick:function(){return c(n)},children:"Edit"}),Object(be.jsx)(Ne,{onClick:function(){return s(n)},children:"Delete"})]})]}),Object(be.jsx)(On,{children:r&&r.map((function(e){return Object(be.jsx)(en,{rule:e},e)}))})]}))}},n)},xn=function(e){var t=e.categories,n=e.handleEdit,r=e.editedCategory,c=Object(J.useContext)(lt).updateOrder,a=Object(J.useState)(!1),i=Object(ie.a)(a,2),o=i[0],s=i[1],d=null===t||void 0===t?void 0:t.sort((function(e,t){return e.order>t.order?1:-1}));return Object(J.useEffect)((function(){return s(!0)}),[]),Object(be.jsx)(dn.a,{onDragEnd:function(e){if(e.destination){var n=Array.from(t),r=n.splice(e.source.index,1),a=Object(ie.a)(r,1)[0];n.splice(e.destination.index,0,a),c(n)}},children:o&&Object(be.jsx)(dn.c,{droppableId:"droppable",children:function(e){return Object(be.jsxs)("div",Object(fe.a)(Object(fe.a)({},e.droppableProps),{},{ref:e.innerRef,children:[d.map((function(e,t){var c=e.name,a=e.key,i=e.rules,o=e.hidden;return Object(be.jsx)(pn,{name:c,id:a,rules:i,hidden:o,order:t,handleEdit:n,isEdited:r.key===a},a)})),e.placeholder]}))}})})},gn=Object(te.a)(Ne)(G||(G=Object(ee.a)(["\n  margin-top: 10px;\n  text-decoration: none;\n  margin-bottom: 10px;\n"]))),hn=function(){var e=Object(J.useContext)(lt).categories,t=Object(J.useContext)(Oe).errorList,n=Object(J.useState)({rules:[]}),r=Object(ie.a)(n,2),c=r[0],a=r[1],i=Object(J.useCallback)((function(){a({rules:[]})}),[a]);return Object(be.jsxs)(sn,{children:[t&&Object(be.jsx)("p",{children:t.join(",")}),Object(be.jsx)("h2",{children:"Categories"}),Object(be.jsx)(cn,{category:c,resetEditedCategory:i}),Object(be.jsx)(xn,{categories:e,handleEdit:function(t){a(e.find((function(e){return e.key===t})))},editedCategory:c}),Object(be.jsx)(Z.b,{to:he,children:Object(be.jsx)(gn,{primary:!0,children:"Close"})})]})},vn=n(89),yn=(n(181),"firebaseui_container"),mn=function(e){var t=e.uiConfig,n=e.firebaseAuth,r=e.className;return Object(J.useEffect)((function(){var e=!1,r=vn.a.AuthUI.getInstance()||new vn.a.AuthUI(n);"popup"===t.signInFlow&&r.reset();var c=Object(oe.c)(n,(function(t){!t&&e&&r.reset(),e=!!t}));return r.start("#"+yn,t),function(){c(),r.reset()}}),[t,n]),Object(be.jsx)("div",{className:r,id:yn})},kn=function(){var e=Object(J.useContext)(Oe).ready;if((0,Object(J.useContext)(ge).isLoggedIn)())return Object(be.jsx)(Q.a,{to:he,replace:!0});var t={signInFlow:"popup",signInOptions:[oe.a.PROVIDER_ID],signInSuccessUrl:he};return Object(be.jsxs)(De,{children:[Object(be.jsx)(we,{page:"Login"}),e&&Object(be.jsx)(mn,{uiConfig:t,firebaseAuth:Object(oe.b)()})]})};var Cn=function(){return Object(be.jsx)(le,{children:Object(be.jsx)(xe,{children:Object(be.jsx)(dt,{children:Object(be.jsx)(jt,{children:Object(be.jsx)(Z.a,{children:Object(be.jsxs)(Q.d,{children:[Object(be.jsx)(Q.b,{path:"/taskhub-fe/categories",element:Object(be.jsx)(hn,{})}),Object(be.jsx)(Q.b,{path:"/taskhub-fe/login",element:Object(be.jsx)(kn,{})}),Object(be.jsx)(Q.b,{path:"*",element:Object(be.jsx)(Gt,{})})]})})})})})})},wn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},Fn=document.getElementById("root");Object(X.createRoot)(Fn).render(Object(be.jsx)(V.a.StrictMode,{children:Object(be.jsx)(Cn,{})})),wn()}},[[185,1,2]]]);
//# sourceMappingURL=main.61934ce6.chunk.js.map