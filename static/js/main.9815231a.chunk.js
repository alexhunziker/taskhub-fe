(this["webpackJsonptaskhub-fe"]=this["webpackJsonptaskhub-fe"]||[]).push([[0],{105:function(e,t,n){},173:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,u,d,b,j,l,O,f,p,x,h,g,v,y,k,m,C,w,D,E,S,F,T,I,N,A,L,M,P,U,R,B=n(1),z=n.n(B),_=n(42),H=n.n(_),K=(n(105),n(39)),G=n(18),W=n(19),Y=n(20),J=n(16),V=n(36),X=n(22),Z=n(86),q=n(27),Q={apiKey:"AIzaSyBh36cGPXJH-cyb2giOsJet7VDEKZ3MVsU",authDomain:"my-task-hub.firebaseapp.com",databaseURL:"https://my-task-hub-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-task-hub",storageBucket:"my-task-hub.appspot.com",messagingSenderId:"941408350272",appId:"1:941408350272:web:a0f5bfc5afbcbbcb3defa5",measurementId:"G-485HGNY5X9"},$=n(8),ee=z.a.createContext({successIndicator:!1,errorList:[],indicateSuccess:function(){},addError:function(e){},clearErrorList:function(){}}),te=function(e){var t=e.children,n=Object(B.useState)(!1),r=Object(J.a)(n,2),c=r[0],a=r[1],i=Object(B.useState)([]),o=Object(J.a)(i,2),s=o[0],u=o[1],d=Object(B.useState)(!1),b=Object(J.a)(d,2),j=b[0],l=b[1];Object(B.useEffect)((function(){try{var e=function(){var e=Object(Z.a)(Q);return Object(q.b)(e)}();console.log("Initialize Firebase... done"),e&&l(!0)}catch(t){console.error("initializind database failed",t)}}),[]);var O={successIndicator:c,errorList:s,indicateSuccess:function(){a(!0),setTimeout((function(){return a(!1)}),1e3)},addError:function(e){u([].concat(Object(X.a)(s),[e]))},clearErrorList:function(){u([])},ready:j};return Object($.jsx)(ee.Provider,{value:O,children:t})},ne=ee,re=z.a.createContext({uid:"",displayName:"",email:"",isLoggedIn:function(){return Boolean}}),ce=function(e){var t=e.children,n=Object(B.useState)(""),r=Object(J.a)(n,2),c=r[0],a=r[1],i=Object(B.useState)(""),o=Object(J.a)(i,2),s=o[0],u=o[1],d=Object(B.useState)(""),b=Object(J.a)(d,2),j=b[0],l=b[1],O=Object(B.useContext)(ne).ready,f=O&&Object(V.b)();O&&Object(V.c)(f,(function(e){e?(a(e.uid),u(e.displayName),l(c.email)):(a(""),u(""),l(""))}));var p={uid:c,displayName:s,email:j,isLoggedIn:function(){return!!c}};return Object($.jsx)(re.Provider,{value:p,children:t})},ae=re,ie=(n(85),"/taskhub-fe"),oe="/taskhub-fe/categories",se=Y.a.header(r||(r=Object(W.a)(["\n  height: 3.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #007799;\n  padding-left: 20px;\n  padding-right: 20px;\n  gap: 20px;\n\n  a {\n    text-decoration: none;\n    color: white;\n    font-weight: bold;\n  }\n\n  a:hover,\n  a:active,\n  a.active {\n    color: #00DDBB;\n  }\n"]))),ue=Y.a.div(c||(c=Object(W.a)(["\n  flex-grow: 1;\n"]))),de=Y.a.div(a||(a=Object(W.a)(["\n  background-color: #EE8888;\n  color: white;\n  padding: 10px 20px 10px;\n\n  li {\n    list-style-type: none;\n  }\n"]))),be=function(e){var t=e.page,n=Object(B.useContext)(ne),r=n.successIndicator,c=n.errorList,a=n.addError,i=Object(B.useContext)(ae),o=i.displayName,s=i.isLoggedIn,u=Object(V.b)(),d=Object(B.useCallback)((function(){Object(V.d)(u).catch((function(e){return a("Sign out failed: ",e)}))}),[u,a]);return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(se,{children:[Object($.jsx)(ue,{children:Object($.jsxs)("a",{href:"/tasks",children:["\ud83d\udcdd TaskHub ",">>"," ",t]})}),r&&Object($.jsx)("div",{children:"\u2714\ufe0f"}),s()&&Object($.jsx)(K.b,{to:oe,children:"Categories"}),s()&&Object($.jsxs)("a",{href:ie,onClick:d,children:["Logout (",o,")"]})]}),c.length>0&&Object($.jsx)(de,{children:c.map((function(e){return Object($.jsx)("li",{children:e})}))})]})},je=Y.a.div(i||(i=Object(W.a)(["\n    padding: 1rem;\n    border-radius: 5px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n    margin-top: 10px;\n"]))),le=function(e){return Object($.jsx)(je,{style:e.style,children:e.children})},Oe=Y.a.button(o||(o=Object(W.a)(["\n  display: inline-block;\n  color: #006666;\n  font-size: 1em;\n  padding: 0.25em 0.5em;\n  border: 2px solid #006666;\n  border-radius: 3px;\n  display: block;\n\n  ","\n"])),(function(e){return e.primary&&"\n    background: #006666;\n    color: #FFFFFF;\n  "})),fe=Y.a.div(s||(s=Object(W.a)(["\n    padding: 0.3rem;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n    margin-top: 10px;\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return e.overdue&&"\n    background: #FFDDDD;\n  "}),(function(e){return e.editMode&&"\n    background: #DFFFF5;\n    padding-bottom: 0.6rem;\n  "}),(function(e){return e.done&&"\n    color: grey;\n  "})),pe=function(e){var t=e.overdue,n=e.editMode,r=e.children,c=e.done;return Object($.jsx)(fe,{overdue:t,editMode:n,done:c,children:r})},xe=n(26),he=Y.a.input(u||(u=Object(W.a)(["\n  width: 100%;\n  height: 24px;\n  border: 2px solid #009999;\n  border-radius: 3px;\n\n  :focus {\n    border: 2px solid #009999;\n  }\n\n  ","\n"])),(function(e){return e.validationError&&"\n    border: 2px solid #AA6666;\n    background-color: #FFDDDD;\n  "})),ge=function(e){var t=e.onChange,n=e.value,r=e.validationError;return Object($.jsx)(he,{onChange:t,value:n,validationError:r})},ve=Y.a.div(d||(d=Object(W.a)(["\n  flex-grow: 1;\n  padding-right: 10px;\n"]))),ye=Y.a.div(b||(b=Object(W.a)(["\n  font-size: 9pt;\n  color: #003333;\n"]))),ke=function(e){var t=e.description,n=e.children;return Object($.jsxs)(ve,{children:[Object($.jsx)(ye,{children:t}),n]})},me=Y.a.select(j||(j=Object(W.a)(["\n  width: 100%;\n  height: 24px;\n  border: 2px solid #009999;\n  border-radius: 3px;\n\n  :focus {\n    border: 2px solid #009999;\n  }\n"]))),Ce=function(e){var t=e.entries,n=e.onChange,r=e.value;return Object($.jsx)(me,{onChange:n,value:r,children:t.map((function(e){return Object($.jsx)("option",{value:e,children:e},e||"unknown")}))})},we=n(90),De=n.n(we),Ee=Object(Y.a)(De.a)(l||(l=Object(W.a)(["\n  width: 100%;\n  height: 24px;\n  border: 2px solid #009999;\n  border-radius: 3px;\n\n  :focus {\n    border: 2px solid #009999;\n  }\n"]))),Se="Low",Fe="Medium",Te="High",Ie=[Se,Fe,Te],Ne={UNDEFINED:void 0,PURCHASE:"Purchase",CONTACT:"Contact",MEDIA:"Media",ADMIN:"Admin"},Ae=[Ne.UNDEFINED,Ne.PURCHASE,Ne.CONTACT,Ne.MEDIA,Ne.ADMIN],Le=Y.a.div(O||(O=Object(W.a)(["\n  display: flex;\n  gap: 10px;\n  width: 100%;\n"]))),Me=function(e){var t=e.category,n=e.setCategory,r=e.due,c=e.setDue,a=e.priority,i=e.setPriority,o=r instanceof Date?r:void 0;return Object($.jsxs)(Le,{children:[Object($.jsx)(ke,{description:"Category",children:Object($.jsx)(Ce,{entries:Ae,value:t,onChange:function(e){return n(e.target.options[e.target.selectedIndex].value)}})}),Object($.jsx)(ke,{description:"Due",children:Object($.jsx)(Ee,{selected:o,onChange:function(e){return c(e)},dateFormat:"dd.MM.yyyy"})}),Object($.jsx)(ke,{name:"priority",description:"Priority",children:Object($.jsx)(Ce,{entries:Ie,value:a,onChange:function(e){return i(e.target.options[e.target.selectedIndex].value)}},a)})]})},Pe=n(187),Ue=n(6),Re=n(0),Be=n.n(Re),ze=function(){var e=Object(B.useContext)(ne),t=e.addError,n=e.indicateSuccess,r=e.ready,c=Object(B.useState)(!1),a=Object(J.a)(c,2),i=a[0],o=a[1],s=function(){var e=Object(Ue.a)(Be.a.mark((function e(c,a){var i,o,s;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return t("Task update/creation failed: Database not ready."),e.abrupt("return");case 3:i=Object(xe.a)(Object(xe.a)({},c),{},{due:c.due&&c.due.getTime(),closedOn:c.closedOn&&c.closedOn.getTime()}),Object.keys(i).forEach((function(e){return void 0===i[e]&&delete i[e]})),o=Object(q.b)(),s=Object(q.c)(o,"tasks/".concat(a,"/").concat(i.key)),Object(q.d)(s,i).then(n()).catch((function(e){return t("Task update/creation failed: "+e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(Ue.a)(Be.a.mark((function e(r,c){var a,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(q.b)(),i=Object(q.c)(a,"tasks/".concat(c,"/").concat(r)),Object(q.d)(i,null).then(n()).catch((function(e){return t("Task removal failed: "+e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{listenToTaskList:function(e,c){if(r)if(i)t("WARN: Prevented from listening to tasklist multiple times.");else{o(!0);var a=Object(q.b)(),s=Object(q.c)(a,"tasks/"+c);Object(q.a)(s).then((function(t){if(t.exists()){var r=Object.values(t.val()).map((function(e){return Object(xe.a)(Object(xe.a)({},e),{},{due:e.due&&new Date(e.due),closedOn:e.closedOn&&new Date(e.closedOn)})}));e(r),n()}else console.warn("No tasks were obtained by firebase.")}),(function(e){return t("Getting tasks failed: "+e)}))}else t("Getting taks failed: Database not ready.")},updateTask:s,removeTask:u}},_e=z.a.createContext({tasks:[],addTask:function(e){},removeTask:function(e){},toggleResolved:function(e){},modifyTask:function(e){}}),He=function(e){var t=Object(B.useContext)(ae).uid,n=Object(B.useState)([]),r=Object(J.a)(n,2),c=r[0],a=r[1],i=ze(),o=i.updateTask,s=i.removeTask,u={tasks:c,setTasks:a,addTask:function(e){var n=Object(xe.a)(Object(xe.a)({},e),{},{key:Object(Pe.a)()});a([].concat(Object(X.a)(c),[n])),o(n,t)},removeTask:function(e){a(c.filter((function(t){return t.key!==e}))),s(e,t)},toggleResolved:function(e){var n=c.find((function(t){return t.key===e}));n.done=!n.done,n.closedOn=n.done?new Date:null,a(c.map((function(t){return t.key===e?n:t}))),o(n,t)},modifyTask:function(e){a(c.map((function(t){return t.key!==e.key?t:e}))),o(e,t)}};return Object($.jsx)(_e.Provider,{value:u,children:e.children})},Ke=_e,Ge=Object(Y.a)(Oe)(f||(f=Object(W.a)(["\n  margin-top: 15px;\n"]))),We=Y.a.div(p||(p=Object(W.a)(["\n  display: flex;\n  gap: 10px;\n"]))),Ye=function(e){var t=e.task,n=e.toggleEditMode,r=Object(B.useState)(t.title),c=Object(J.a)(r,2),a=c[0],i=c[1],o=Object(B.useState)(t.category),s=Object(J.a)(o,2),u=s[0],d=s[1],b=Object(B.useState)(t.due),j=Object(J.a)(b,2),l=j[0],O=j[1],f=Object(B.useState)(t.priority),p=Object(J.a)(f,2),x=p[0],h=p[1],g=Object(B.useContext)(Ke),v=g.removeTask,y=g.modifyTask;return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(We,{children:[Object($.jsx)(ke,{description:"Task",children:Object($.jsx)(ge,{value:a,name:"title",onChange:function(e){return i(e.target.value)}})}),Object($.jsx)(Ge,{onClick:function(){return y(Object(xe.a)(Object(xe.a)({},t),{},{title:a,category:u,due:l,priority:x})),void n()},primary:!0,children:"Save"}),Object($.jsx)(Ge,{onClick:function(){return v(t.key)},children:"Delete"})]}),Object($.jsx)(Me,{category:u,setCategory:d,due:l,setDue:O,priority:x,setPriority:h})]})},Je=Y.a.div(x||(x=Object(W.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),Ve=Y.a.input(h||(h=Object(W.a)(["\n  height: 17px;\n"]))),Xe=Y.a.div(g||(g=Object(W.a)(["\n  flex-grow: 1;\n\n  ","\n"])),(function(e){return e.done&&"\n    text-decoration: line-through;\n  "})),Ze=Y.a.div(v||(v=Object(W.a)(["\n  font-weight: bold;\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return e.priority===Te&&"\n    color: red;\n  "}),(function(e){return e.priority===Fe&&"\n    color: orange;\n  "}),(function(e){return e.priority===Se&&"\n    color: green;\n  "})),qe=function(e){if(e instanceof Date){var t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear();return"".concat(t,".").concat(n,".").concat(r)}},Qe=function(e){var t=e.task,n=Object(B.useContext)(Ke),r=n.removeTask,c=n.toggleResolved,a=new Date,i=!(!t.due||"function"!==typeof t.due.getTime)&&(a>t.due.getTime()&&!t.done),o=Object(B.useState)(!1),s=Object(J.a)(o,2),u=s[0],d=s[1],b=function(){return d(!u)},j=t.done?qe(t.closedOn):qe(t.due);return Object($.jsx)(pe,{overdue:i,editMode:u,done:t.done,children:u?Object($.jsx)(Ye,{task:t,toggleEditMode:b}):Object($.jsxs)(Je,{children:[Object($.jsx)(Ve,{type:"checkbox",onChange:function(){return c(t.key)},checked:t.done}),Object($.jsx)(Ze,{priority:t.priority,children:"!"}),Object($.jsxs)(Xe,{done:t.done,children:[t.title," ",j&&"(".concat(j,")")]}),Object($.jsx)(Oe,{onClick:function(){return b()},children:"\ud83d\udd8a\ufe0f"}),Object($.jsx)(Oe,{onClick:function(){return r(t.key)},children:"\ud83d\uddd1\ufe0f"})]})})},$e=n(2),et={ALPHABETICAL:"Alphabetical",DUE_UNKNOWN_FIRST:"Due (unknown first)",DUE_UNKNOWN_LAST:"Due (unknown last)",PRIORITY:"Priority"},tt=function(e,t){return e.due||t.due?e.due?t.due?e.due-t.due:-1:1:e.title>t.title},nt=(y={},Object($e.a)(y,et.ALPHABETICAL,(function(e,t){return e.title>t.title?1:e.title<t.title?-1:0})),Object($e.a)(y,et.DUE_UNKNOWN_FIRST,(function(e,t){return e.due||t.due?e.due?t.due?e.due-t.due:1:-1:e.title>t.title})),Object($e.a)(y,et.DUE_UNKNOWN_LAST,tt),Object($e.a)(y,et.PRIORITY,(function(e,t){return e.priority===t.priority?tt(e,t):e.priority===Te?-1:e.priority===Se||t.priority===Te?1:t.priority===Se?-1:void 0})),y),rt=n(93),ct=n.n(rt),at=Y.a.div(k||(k=Object(W.a)(["\n  display: inline-block;\n  overflow: hidden;\n  font-size: smaller;\n  vertical-align: bottom;\n  color: grey;\n"]))),it=Y.a.div(m||(m=Object(W.a)(["\n  transition:visibility 0.5s linear,opacity 0.5s linear;\n  display: block;\n  position: absolute;\n  background-color: #FAFAFA;\n  border-style: solid;\n  border-color: #BBBBBB;\n  border-radius: 3px;\n  border-width: 2px;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n  z-index: 1;\n\n  ","\n"])),(function(e){return e.showDropdown?"opacity: 100;":"opacity: 0; visibility:hidden"})),ot=Y.a.div(C||(C=Object(W.a)(["\n  transition: all 0.2s linear;\n  padding: 5px;\n  ","\n"])),(function(e){return e.selected&&"\n    background: #DDFFEE;\n  "})),st=function(e){var t=e.setSortOrder,n=e.sortOrder,r=Object(B.useState)(!1),c=Object(J.a)(r,2),a=c[0],i=c[1],o=Object(B.useCallback)((function(e){i(!1),t(e)}),[i,t]);return Object($.jsxs)(at,{children:[Object($.jsx)(ct.a,{onClick:function(){return i(!0)},fontSize:"small"}),Object($.jsx)(it,{showDropdown:a,children:Object.values(et).map((function(e){return Object($.jsx)(ot,{selected:e===n,onClick:function(){return o(e)},children:e},e)}))})]})},ut=Y.a.h2(w||(w=Object(W.a)(["\n  font-size: 14pt;\n"]))),dt=Y.a.div(D||(D=Object(W.a)(["\n  margin-top: 10px;\n  color: #007799;\n"]))),bt=function(e){var t=e.taskCategory,n=e.tasks,r=Object(B.useState)(et.DUE_UNKNOWN_LAST),c=Object(J.a)(r,2),a=c[0],i=c[1],o=Object(B.useState)(!1),s=Object(J.a)(o,2),u=s[0],d=s[1],b=nt[a],j=n.filter((function(e){return!e.done})).sort((function(e,t){return b(e,t)})),l=n.filter((function(e){return e.done})).sort((function(e,t){return function(e,t){return e.closedOn===t.closedOn?0:e.closedOn?t.closedOn?t.closedOn-e.closedOn:-1:1}(e,t)})),O=u?"- Hide closed tasks":"+ Show closed tasks";return Object($.jsx)(le,{children:Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(ut,{children:[Object($.jsx)(st,{setSortOrder:i,sortOrder:a})," "," ",t||"Uncategorized"]}),j.length>0?j.map((function(e){return Object($.jsx)(Qe,{task:e},e.key)})):"Yay, no tasks",l.length>0&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(dt,{onClick:function(){return d(!u)},children:O}),u&&l.map((function(e){return Object($.jsx)(Qe,{task:e},e.key)}))]})]})})},jt=(n(162),Y.a.div(E||(E=Object(W.a)(["\n  display: flex;\n  gap: 10px;\n"])))),lt=Object(Y.a)(Oe)(S||(S=Object(W.a)(["\n  margin-top: 15px;\n"]))),Ot=function(){var e=Object(B.useState)((function(){return!1})),t=Object(J.a)(e,2),n=t[0],r=t[1],c=Object(B.useContext)(Ke).addTask,a=Object(B.useState)(""),i=Object(J.a)(a,2),o=i[0],s=i[1],u=Object(B.useState)(Ne.UNDEFINED),d=Object(J.a)(u,2),b=d[0],j=d[1],l=Object(B.useState)(Fe),O=Object(J.a)(l,2),f=O[0],p=O[1],x=Object(B.useState)(void 0),h=Object(J.a)(x,2),g=h[0],v=h[1],y=Object(B.useState)(!1),k=Object(J.a)(y,2),m=k[0],C=k[1],w=Object(B.useState)(!1),D=Object(J.a)(w,2),E=D[0],S=D[1];return Object($.jsxs)(le,{children:[Object($.jsxs)(jt,{children:[Object($.jsx)(ke,{description:"New Task",children:Object($.jsx)(ge,{value:o,name:"title",validationError:!m&&E,onChange:function(e){return function(e){s(e.target.value),C(!!e.target.value),S(!0)}(e)}})}),Object($.jsx)(lt,{onClick:function(){return r(!n)},children:n?"\u2796":"\u2795"}),Object($.jsx)(lt,{onClick:function(){m?(c({title:o,category:b,due:g,priority:f}),s(""),j(Ne.UNDEFINED),p(Fe),C(!1),S(!1)):S(!0)},primary:!0,children:"Create"})]}),Object($.jsx)(jt,{children:n&&Object($.jsx)(Me,{category:b,setCategory:j,due:g,setDue:v,priority:f,setPriority:p})})]})},ft=function(){var e=Ae,t=Object(B.useContext)(Ke),n=t.tasks,r=t.setTasks,c=Object(B.useContext)(ne).ready,a=ze().listenToTaskList,i=Object(B.useContext)(ae),o=i.isLoggedIn,s=i.uid;return Object(B.useEffect)((function(){return c&&a(r,s)}),[c,s]),o()?Object($.jsxs)(le,{children:[Object($.jsx)(be,{page:"Tasks"}),Object($.jsx)(Ot,{}),e.map((function(e){return Object($.jsx)(bt,{taskCategory:e,tasks:n.filter((function(t){return t.category===e}))},e||"unknown")}))]}):Object($.jsx)(G.a,{to:"taskhub-fe/login",replace:!0})},pt=Y.a.span(F||(F=Object(W.a)(["\n  border: 1px solid;\n  border-color: #006666;\n  background-color: #DFFFF5;\n  color: #006666;\n  margin: 0px 3px;\n  padding: 0px 2px;\n  border-radius: 3px;\n  white-space:nowrap;\n\n  ","\n"])),(function(e){return e.editMode||"\n    font-size: smaller;\n  "})),xt=Y.a.span(T||(T=Object(W.a)(["\n  border: 1px solid;\n  border-color: #006666;\n  border-radius: 3px;\n  margin-right: -3px;\n  margin-left: 3px;\n  padding: 0px 5px;\n  background-color: #FFDDDD;\n  color: #CC8888;  \n"]))),ht=function(e){var t=e.rule,n=e.handleRemoval,r=e.editMode;return Object($.jsxs)(pt,{editMode:r,children:[t,r&&Object($.jsx)(xt,{onClick:function(){return n(t)},children:"X"})]})},gt=z.a.createContext({categories:[],saveCategory:function(e){},removeCategory:function(e){}}),vt=function(e){var t=Object(B.useContext)(ae),n=t.uid,r=t.addError,c=Object(B.useState)([]),a=Object(J.a)(c,2),i=a[0],o=a[1],s=function(){var e=Object(B.useContext)(ne),t=e.addError,n=e.indicateSuccess,r=e.ready,c=function(){var e=Object(Ue.a)(Be.a.mark((function e(r,c){var a,i,o,s;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(xe.a)(Object(xe.a)({},r),{},{due:null===(a=r.due)||void 0===a?void 0:a.getTime()}),Object.keys(i).forEach((function(e){return void 0===i[e]&&delete i[e]})),o=Object(q.b)(),s=Object(q.c)(o,"categories/".concat(c,"/").concat(i.key)),Object(q.d)(s,i).then(n()).catch((function(e){return t("Category update/creation failed: "+e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a=function(){var e=Object(Ue.a)(Be.a.mark((function e(r,c){var a,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(q.b)(),i=Object(q.c)(a,"categories/".concat(c,"/").concat(r)),Object(q.d)(i,null).then(n()).catch((function(e){return t("Category removal failed: "+e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{fetchCategories:function(e,c){if(r&&c){var a=Object(q.b)(),i=Object(q.c)(a,"categories/"+c);Object(q.a)(i).then((function(t){if(t.exists()){var r=Object.values(t.val()).map((function(e){return Object(xe.a)(Object(xe.a)({},e),{},{due:e.due&&new Date(e.due)})}));e(r),n()}else console.warn("No categories were obtained by firebase.")})).catch((function(e){console.error(e),t("Getting categories failed: "+e)}))}else console.warn("Firebase not ready.")},updateCategory:c,deleteCategory:a}}(),u=s.fetchCategories,d=s.updateCategory,b=s.deleteCategory;Object(B.useEffect)((function(){u(o,n)}),[n,u,o]);var j={categories:i,saveCategory:function(e){if(e.name){var t=Object(xe.a)(Object(xe.a)({},e),{},{key:Object(Pe.a)()}),c=i.filter((function(e){return e.key!==t.key}));o([].concat(Object(X.a)(c),[t])),d(t,n)}else r("Category name cannot be empty")},removeCategory:function(e){console.log(e,"keyremove"),o(i.filter((function(t){return t.key!==e}))),b(e,n)}};return Object($.jsx)(gt.Provider,{value:j,children:e.children})},yt=gt,kt=Y.a.div(I||(I=Object(W.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),mt=Object(Y.a)(Oe)(N||(N=Object(W.a)(["\n  margin-top: 15px;\n"]))),Ct=Y.a.div(A||(A=Object(W.a)(["\n  margin-top: 10px;\n  overflow-wrap: break-word;\n"]))),wt=function(e){var t=e.category,n=Object(B.useState)(t.name),r=Object(J.a)(n,2),c=r[0],a=r[1],i=Object(B.useState)(t.rules),o=Object(J.a)(i,2),s=o[0],u=o[1],d=Object(B.useState)(""),b=Object(J.a)(d,2),j=b[0],l=b[1],O=Object(B.useContext)(yt).saveCategory;Object(B.useEffect)((function(){a(t.name),u(t.rules)}),[t]);var f=Object(B.useCallback)((function(){u([].concat(Object(X.a)(s),[j])),l("")}),[s,j,l,u]),p=Object(B.useCallback)((function(e){u(s.filter((function(t){return t!==e})))}),[s,u]),x=Object(xe.a)(Object(xe.a)({},t),{},{name:c,rules:s});return Object($.jsxs)(le,{children:[Object($.jsxs)(kt,{children:[Object($.jsx)(ke,{description:"Name:",children:Object($.jsx)(ge,{value:c,onChange:function(e){return a(e.target.value)}})}),Object($.jsx)(mt,{onClick:function(){return O(x)},primary:!0,children:"Save"})]}),Object($.jsxs)(kt,{children:[Object($.jsx)(ke,{description:"Rules (Regex capable)",children:Object($.jsx)(ge,{value:j,onChange:function(e){l(e.target.value)}})}),Object($.jsx)(mt,{onClick:f,children:"Add"})]}),Object($.jsx)(Ct,{children:s.map((function(e){return Object($.jsx)(ht,{rule:e,handleRemoval:p,editMode:!0},e)}))})]})},Dt=Y.a.div(L||(L=Object(W.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n"]))),Et=Y.a.div(M||(M=Object(W.a)(["\n  position: fixed;\n  top: 60px;\n  bottom: 60px;\n  right: 60px;\n  left: 60px;\n  background-color: #FFFFFF;\n  z-index: 3;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\n  padding: 0px 20px;\n  overflow: auto;\n"]))),St=function(e){var t=e.children;return Object($.jsx)(Dt,{children:Object($.jsx)(Et,{children:t})})},Ft=Y.a.div(P||(P=Object(W.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),Tt=Y.a.div(U||(U=Object(W.a)(["\n  flex-grow: 1;\n"]))),It=function(e){var t=e.name,n=e.id,r=e.rules,c=e.handleEdit,a=Object(B.useContext)(yt).removeCategory;return Object($.jsxs)(le,{children:[Object($.jsxs)(Ft,{children:[Object($.jsx)(Tt,{children:t}),Object($.jsx)(Oe,{onClick:function(){return c(n)},children:"Edit"}),Object($.jsx)(Oe,{onClick:function(){return a(n)},children:"Delete"})]}),r&&r.map((function(e){return Object($.jsx)(ht,{rule:e})}))]})},Nt=function(e){var t=e.categories,n=e.handleEdit;return t.map((function(e){var t=e.name,r=e.key,c=e.rules;return Object($.jsx)(It,{name:t,id:r,rules:c,handleEdit:n},r)}))},At=Object(Y.a)(Oe)(R||(R=Object(W.a)(["\n  margin-top: 10px;\n  text-decoration: none;\n  margin-bottom: 10px;\n"]))),Lt=function(){var e=Object(B.useContext)(yt).categories,t=Object(B.useState)({rules:[]}),n=Object(J.a)(t,2),r=n[0],c=n[1];return Object($.jsxs)(St,{children:[Object($.jsx)("h2",{children:"Categories"}),Object($.jsx)(wt,{category:r}),Object($.jsx)(Nt,{categories:e,handleEdit:function(t){c(e.find((function(e){return e.key===t})))}}),Object($.jsx)(K.b,{to:ie,children:Object($.jsx)(At,{primary:!0,children:"Close"})})]})},Mt=n(94),Pt=n.n(Mt),Ut=function(){var e=Object(B.useContext)(ne).ready;if((0,Object(B.useContext)(ae).isLoggedIn)())return Object($.jsx)(G.a,{to:ie,replace:!0});var t={signInFlow:"popup",signInOptions:[V.a.PROVIDER_ID],signInSuccessUrl:ie};return Object($.jsxs)(le,{children:[Object($.jsx)(be,{page:"Login"}),e&&Object($.jsx)(Pt.a,{uiConfig:t,firebaseAuth:Object(V.b)()})]})};var Rt=function(){return Object($.jsx)(te,{children:Object($.jsx)(ce,{children:Object($.jsx)(He,{children:Object($.jsx)(vt,{children:Object($.jsx)(K.a,{children:Object($.jsxs)(G.d,{children:[Object($.jsx)(G.b,{path:"/taskhub-fe/categories",element:Object($.jsx)(Lt,{})}),Object($.jsx)(G.b,{path:"/taskhub-fe/login",element:Object($.jsx)(Ut,{})}),Object($.jsx)(G.b,{path:"*",element:Object($.jsx)(ft,{})})]})})})})})})},Bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,188)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};H.a.render(Object($.jsx)(z.a.StrictMode,{children:Object($.jsx)(Rt,{})}),document.getElementById("root")),Bt()}},[[173,1,2]]]);
//# sourceMappingURL=main.9815231a.chunk.js.map