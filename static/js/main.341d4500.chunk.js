(this["webpackJsonptaskhub-fe"]=this["webpackJsonptaskhub-fe"]||[]).push([[0],{109:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var r,c,a,o,i,s,u,d,b,l,j,O,f,p,x,g,h,v,y,m,k,C,F,w,E,D,S,T,I,L,M,N,R,A,U,P,z,B,K,Y,_,q,H=n(1),W=n.n(H),G=n(42),J=n.n(G),V=(n(109),n(39)),X=n(18),Z=n(22),Q=n(19),$=n(20),ee=n(92),te=n.n(ee),ne=n(15),re=n(36),ce=n(88),ae=n(27),oe={apiKey:"AIzaSyBh36cGPXJH-cyb2giOsJet7VDEKZ3MVsU",authDomain:"my-task-hub.firebaseapp.com",databaseURL:"https://my-task-hub-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-task-hub",storageBucket:"my-task-hub.appspot.com",messagingSenderId:"941408350272",appId:"1:941408350272:web:a0f5bfc5afbcbbcb3defa5",measurementId:"G-485HGNY5X9"},ie=n(8),se=W.a.createContext({successIndicator:!1,errorList:[],indicateSuccess:function(){},addError:function(e){},clearErrorList:function(){}}),ue=function(e){var t=e.children,n=Object(H.useState)(!1),r=Object(ne.a)(n,2),c=r[0],a=r[1],o=Object(H.useState)([]),i=Object(ne.a)(o,2),s=i[0],u=i[1],d=Object(H.useState)(!1),b=Object(ne.a)(d,2),l=b[0],j=b[1];Object(H.useEffect)((function(){try{var e=function(){var e=Object(ce.a)(oe);return Object(ae.b)(e)}();console.log("Initialize Firebase... done"),e&&j(!0)}catch(t){console.error("initializind database failed",t)}}),[]);var O={successIndicator:c,errorList:s,indicateSuccess:function(){a(!0),setTimeout((function(){return a(!1)}),1e3)},addError:function(e){u([].concat(Object(Z.a)(s),[e]))},clearErrorList:function(){u([])},ready:l};return Object(ie.jsx)(se.Provider,{value:O,children:t})},de=se,be=W.a.createContext({uid:"",displayName:"",email:"",isLoggedIn:function(){return Boolean}}),le=function(e){var t=e.children,n=Object(H.useState)(""),r=Object(ne.a)(n,2),c=r[0],a=r[1],o=Object(H.useState)(""),i=Object(ne.a)(o,2),s=i[0],u=i[1],d=Object(H.useState)(""),b=Object(ne.a)(d,2),l=b[0],j=b[1],O=Object(H.useContext)(de).ready,f=O&&Object(re.b)();O&&Object(re.c)(f,(function(e){e?(a(e.uid),u(e.displayName),j(c.email)):(a(""),u(""),j(""))}));var p={uid:c,displayName:s,email:l,isLoggedIn:function(){return!!c}};return Object(ie.jsx)(be.Provider,{value:p,children:t})},je=be,Oe=(n(87),"/taskhub-fe"),fe="/taskhub-fe/categories",pe=$.a.header(r||(r=Object(Q.a)(["\n  height: 3.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #007799;\n  padding-left: 20px;\n  padding-right: 20px;\n  gap: 20px;\n  color: white;\n\n  a {\n    text-decoration: none;\n    color: white;\n    font-weight: bold;\n  }\n\n  a:hover,\n  a:active,\n  a.active {\n    color: #E0F5FF;\n  }\n"]))),xe=$.a.div(c||(c=Object(Q.a)(["\n  flex-grow: 1;\n"]))),ge=$.a.div(a||(a=Object(Q.a)(["\n  background-color: #EE8888;\n  color: white;\n  padding: 10px 20px 10px;\n\n  li {\n    list-style-type: none;\n  }\n"]))),he=function(e){var t=e.page,n=Object(H.useContext)(de),r=n.successIndicator,c=n.errorList,a=n.addError,o=Object(H.useContext)(je),i=o.displayName,s=o.isLoggedIn,u=Object(re.b)(),d=Object(H.useCallback)((function(){Object(re.d)(u).catch((function(e){return a("Sign out failed: ",e)}))}),[u,a]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(pe,{children:[Object(ie.jsx)(xe,{children:Object(ie.jsxs)("a",{href:"/tasks",children:["\ud83d\udcdd TaskHub ",">>"," ",t]})}),r&&Object(ie.jsx)(te.a,{}),s()&&Object(ie.jsx)(V.b,{to:fe,children:"Categories"}),s()&&Object(ie.jsxs)("a",{href:Oe,onClick:d,children:["Logout (",i,")"]})]}),c.length>0&&Object(ie.jsx)(ge,{children:c.map((function(e){return Object(ie.jsx)("li",{children:e})}))})]})},ve=$.a.div(o||(o=Object(Q.a)(["\n    padding: 1rem;\n    border-radius: 5px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n    margin-top: 10px;\n"]))),ye=function(e){return Object(ie.jsx)(ve,{style:e.style,className:e.className,children:e.children})},me=n(96),ke=n.n(me),Ce=$.a.button(i||(i=Object(Q.a)(["\n  display: inline-block;\n  color: #007799;\n  background-color: #FFFFFF;\n  font-size: 1em;\n  padding: 0.25em 0.5em;\n  border: 2px solid #007799;\n  border-radius: 3px;\n  display: block;\n\n  ","\n"])),(function(e){return e.primary&&"\n    background: #007799;\n    color: #FFFFFF;\n  "})),Fe=$.a.div(s||(s=Object(Q.a)(["\n    padding: 0.3rem;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n    margin-top: 10px;\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return e.overdue&&"\n    background: #FFDDDD;\n  "}),(function(e){return e.editMode&&"\n    background: #E0F5FF;\n    padding-bottom: 0.6rem;\n  "}),(function(e){return e.done&&"\n    color: grey;\n  "})),we=function(e){var t=e.overdue,n=e.editMode,r=e.children,c=e.done;return Object(ie.jsx)(Fe,{overdue:t,editMode:n,done:c,children:r})},Ee=n(25),De=$.a.input(u||(u=Object(Q.a)(["\n  width: 100%;\n  height: 24px;\n  border: 2px solid #007799;\n  border-radius: 3px;\n\n  :focus {\n    border: 2px solid #007799;\n  }\n\n  ","\n"])),(function(e){return e.validationError&&"\n    border: 2px solid #AA6666;\n    background-color: #FFDDDD;\n  "})),Se=function(e){var t=e.onChange,n=e.value,r=e.validationError;return Object(ie.jsx)(De,{onChange:t,value:n,validationError:r})},Te=$.a.div(d||(d=Object(Q.a)(["\n  flex-grow: 1;\n  padding-right: 10px;\n"]))),Ie=$.a.div(b||(b=Object(Q.a)(["\n  font-size: 9pt;\n  color: #003333;\n"]))),Le=function(e){var t=e.description,n=e.children;return Object(ie.jsxs)(Te,{children:[Object(ie.jsx)(Ie,{children:t}),n]})},Me=$.a.select(l||(l=Object(Q.a)(["\n  width: 100%;\n  height: 30px;\n  border: 2px solid #007799;\n  border-radius: 3px;\n  background-color: white;\n\n  :disabled {\n    background-color: #EEEEEE;\n  }\n\n  :focus {\n    border: 2px solid #007799;\n  }\n"]))),Ne=function(e){var t=e.entries,n=e.onChange,r=e.selectedKey,c=e.disabled;return Object(ie.jsx)(Me,{onChange:n,value:r,disabled:c,children:t.map((function(e){return Object(ie.jsx)("option",{value:e.key,children:e.name},e.key||"unknown")}))})},Re=n(93),Ae=n.n(Re),Ue=Object($.a)(Ae.a)(j||(j=Object(Q.a)(["\n  width: 100%;\n  height: 24px;\n  border: 2px solid #007799;\n  border-radius: 3px;\n\n  :focus {\n    border: 2px solid #007799;\n  }\n\n  ","\n"])),(function(e){return e.validationError&&"\n    border: 2px solid #AA6666;\n    background-color: #FFDDDD;\n  "})),Pe="Low",ze="Medium",Be="High",Ke=[Pe,ze,Be],Ye="DAILY",_e="WEEKLY",qe="MONTHLY",He="YEARLY",We=[{name:"Daily",key:Ye},{name:"Weely",key:_e},{name:"Monthly",key:qe},{name:"Yearly",key:He}],Ge="AFTER_DUE",Je="AFTER_COMPLETE",Ve=[{name:"after due",key:Ge},{name:"after complete",key:Je}],Xe=n(189),Ze=n(6),Qe=n(0),$e=n.n(Qe),et=function(){var e=Object(H.useContext)(de),t=e.addError,n=e.indicateSuccess,r=e.ready,c=Object(H.useState)(!1),a=Object(ne.a)(c,2),o=a[0],i=a[1],s=function(){var e=Object(Ze.a)($e.a.mark((function e(c,a){var o,i,s;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return t("Task update/creation failed: Database not ready."),e.abrupt("return");case 3:o=Object(Ee.a)(Object(Ee.a)({},c),{},{due:c.due&&c.due.getTime(),closedOn:c.closedOn&&c.closedOn.getTime()}),Object.keys(o).forEach((function(e){return void 0===o[e]&&delete o[e]})),i=Object(ae.b)(),s=Object(ae.c)(i,"tasks/".concat(a,"/").concat(o.key)),Object(ae.d)(s,o).then(n()).catch((function(e){return t("Task update/creation failed: "+e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(Ze.a)($e.a.mark((function e(r,c){var a,o;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(ae.b)(),o=Object(ae.c)(a,"tasks/".concat(c,"/").concat(r)),Object(ae.d)(o,null).then(n()).catch((function(e){return t("Task removal failed: "+e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{listenToTaskList:function(e,c){if(r)if(o)t("WARN: Prevented from listening to tasklist multiple times.");else{i(!0);var a=Object(ae.b)(),s=Object(ae.c)(a,"tasks/"+c);Object(ae.a)(s).then((function(t){if(t.exists()){var r=Object.values(t.val()).map((function(e){return Object(Ee.a)(Object(Ee.a)({},e),{},{due:e.due&&new Date(e.due),closedOn:e.closedOn&&new Date(e.closedOn)})}));e(r),n()}else console.warn("No tasks were obtained by firebase.")}),(function(e){return t("Getting tasks failed: "+e)}))}else t("Getting taks failed: Database not ready.")},updateTask:s,removeTask:u}},tt=W.a.createContext({tasks:[],addTask:function(e){},removeTask:function(e){},toggleResolved:function(e){},modifyTask:function(e){},unassignAllTasksFromCategory:function(e){}}),nt=function(e){var t=Object(H.useContext)(je).uid,n=Object(H.useState)([]),r=Object(ne.a)(n,2),c=r[0],a=r[1],o=et(),i=o.updateTask,s=o.removeTask,u=function(e){var n=Object(Ee.a)(Object(Ee.a)({},e),{},{key:Object(Xe.a)()});a([].concat(Object(Z.a)(c),[n])),i(n,t)},d=function(e){a(c.map((function(t){return t.key!==e.key?t:e}))),i(e,t)},b={tasks:c,setTasks:a,addTask:u,removeTask:function(e){a(c.filter((function(t){return t.key!==e}))),s(e,t)},toggleResolved:function(e){var n=c.find((function(t){return t.key===e}));if(n.done=!n.done,n.closedOn=n.done?new Date:null,a(c.map((function(t){return t.key===e?n:t}))),i(n,t),n.recurrenceMode&&n.done){var r=n.recurrenceMode===Je?new Date:new Date(n.due.getTime()),o=n.recurrenceFrequency;o===Ye?r.setDate(r.getDate()+1):o===_e?r.setDate(r.getDate()+7):o===qe?r.setMonth(r.getMonth()+1):o===He&&r.setFullYear(r.getFullYear()+1);var s=Object(Ee.a)(Object(Ee.a)({},n),{},{due:r,done:!1,closedOn:void 0});u(s)}},modifyTask:d,unassignAllTasksFromCategory:function(e){c.filter((function(t){return t.category===e})).forEach((function(e){return d(Object(Ee.a)(Object(Ee.a)({},e),{},{category:void 0}))}))}};return Object(ie.jsx)(tt.Provider,{value:b,children:e.children})},rt=tt,ct=W.a.createContext({categories:[],saveCategory:function(e){},removeCategory:function(e){}}),at=function(e){var t=Object(H.useContext)(je),n=t.uid,r=t.addError,c=Object(H.useContext)(rt).unassignAllTasksFromCategory,a=Object(H.useState)([]),o=Object(ne.a)(a,2),i=o[0],s=o[1],u=function(){var e=Object(H.useContext)(de),t=e.addError,n=e.indicateSuccess,r=e.ready,c=Object(H.useCallback)((function(e,c){if(r&&c){var a=Object(ae.b)(),o=Object(ae.c)(a,"categories/"+c);Object(ae.a)(o).then((function(t){if(t.exists()){var r=Object.values(t.val()).map((function(e){return Object(Ee.a)(Object(Ee.a)({},e),{},{due:e.due&&new Date(e.due)})}));e(r),n()}else console.warn("No categories were obtained by firebase.")})).catch((function(e){console.error(e),t("Getting categories failed: "+e)}))}else console.warn("Firebase not ready.")}),[t,n,r]),a=function(){var e=Object(Ze.a)($e.a.mark((function e(r,c){var a,o,i,s;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object(Ee.a)(Object(Ee.a)({},r),{},{due:null===(a=r.due)||void 0===a?void 0:a.getTime()}),Object.keys(o).forEach((function(e){return void 0===o[e]&&delete o[e]})),i=Object(ae.b)(),s=Object(ae.c)(i,"categories/".concat(c,"/").concat(o.key)),Object(ae.d)(s,o).then(n()).catch((function(e){return t("Category update/creation failed: "+e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(Ze.a)($e.a.mark((function e(r,c){var a,o;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(ae.b)(),o=Object(ae.c)(a,"categories/".concat(c,"/").concat(r)),Object(ae.d)(o,null).then(n()).catch((function(e){return t("Category removal failed: "+e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{fetchCategories:c,updateCategory:a,deleteCategory:o}}(),d=u.fetchCategories,b=u.updateCategory,l=u.deleteCategory;Object(H.useEffect)((function(){d(s,n)}),[n]);var j={categories:i,saveCategory:function(e){if(e.name){var t=Object(Ee.a)({key:Object(Xe.a)()},e),c=i.filter((function(e){return e.key!==t.key}));s([].concat(Object(Z.a)(c),[t])),b(t,n)}else r("Category name cannot be empty")},removeCategory:function(e){c(e),s(i.filter((function(t){return t.key!==e}))),l(e,n)}};return Object(ie.jsx)(ct.Provider,{value:j,children:e.children})},ot=ct,it=$.a.div(O||(O=Object(Q.a)(["\n  margin-top: 7px;\n  display: flex;\n  gap: 10px;\n  width: 100%;\n  flex-wrap: wrap;\n"]))),st=$.a.div(f||(f=Object(Q.a)(["\n  display: flex;\n  gap: 10px;\n  min-width: 300px;\n"]))),ut=$.a.input(p||(p=Object(Q.a)(["\n  height: 17px;\n"]))),dt=function(e){var t=e.category,n=e.setCategory,r=e.due,c=e.setDue,a=e.priority,o=e.setPriority,i=e.recurring,s=e.setRecurring,u=Object(H.useContext)(ot).categories,d=null===u||void 0===u?void 0:u.sort((function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()})),b=[{key:void 0,name:"Uncategorized"}].concat(Object(Z.a)(d)),l=r instanceof Date?r:void 0,j=Object(H.useState)(!!i.frequency),O=Object(ne.a)(j,2),f=O[0],p=O[1],x=Ke.map((function(e){return{key:e,name:e}}));return Object(ie.jsxs)(it,{children:[Object(ie.jsx)(Le,{description:"Category",children:Object(ie.jsx)(Ne,{entries:b,selectedKey:t,onChange:function(e){return n(e.target.options[e.target.selectedIndex].value)}})}),Object(ie.jsx)(Le,{description:"Due",children:Object(ie.jsx)(Ue,{selected:l,onChange:function(e){return c(e)},dateFormat:"dd.MM.yyyy",validationError:i.invalid})}),Object(ie.jsx)(Le,{name:"priority",description:"Priority",children:Object(ie.jsx)(Ne,{entries:x,selectedKey:a,onChange:function(e){return o(e.target.options[e.target.selectedIndex].value)}})}),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Le,{description:"Recurring",children:Object(ie.jsxs)(st,{children:[Object(ie.jsx)(ut,{type:"checkbox",onChange:function(){return s(f?{}:{mode:Je,frequency:_e}),void p(!f)},checked:f}),Object(ie.jsx)(Ne,{disabled:!f,entries:f?We:[],selectedKey:i.frequency,onChange:function(e){return s(Object(Ee.a)(Object(Ee.a)({},i),{},{frequency:e.target.options[e.target.selectedIndex].value}))}}),Object(ie.jsx)(Ne,{disabled:!f,entries:f?Ve:[],selectedKey:i.mode,onChange:function(e){return s(Object(Ee.a)(Object(Ee.a)({},i),{},{mode:e.target.options[e.target.selectedIndex].value}))}})]})})})]})},bt=Object($.a)(Ce)(x||(x=Object(Q.a)(["\n  margin-top: 15px;\n"]))),lt=$.a.div(g||(g=Object(Q.a)(["\n  display: flex;\n  gap: 10px;\n"]))),jt=function(e){var t=e.task,n=e.toggleEditMode,r=Object(H.useState)(t.title),c=Object(ne.a)(r,2),a=c[0],o=c[1],i=Object(H.useState)(t.category),s=Object(ne.a)(i,2),u=s[0],d=s[1],b=Object(H.useState)(t.due),l=Object(ne.a)(b,2),j=l[0],O=l[1],f=Object(H.useState)(t.priority),p=Object(ne.a)(f,2),x=p[0],g=p[1],h=Object(H.useState)({mode:t.recurrenceMode,frequency:t.recurrenceFrequency}),v=Object(ne.a)(h,2),y=v[0],m=v[1],k=Object(H.useContext)(rt),C=k.removeTask,F=k.modifyTask;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(lt,{children:[Object(ie.jsx)(Le,{description:"Task",children:Object(ie.jsx)(Se,{value:a,name:"title",onChange:function(e){return o(e.target.value)}})}),Object(ie.jsx)(bt,{onClick:function(){return F(Object(Ee.a)(Object(Ee.a)({},t),{},{title:a,category:u,due:j,priority:x,recurrenceMode:y.mode,recurrenceFrequency:y.frequency})),void n()},primary:!0,children:"Save"}),Object(ie.jsx)(bt,{onClick:function(){return C(t.key)},children:"Delete"})]}),Object(ie.jsx)(dt,{category:u,setCategory:d,due:j,setDue:O,priority:x,setPriority:g,recurring:y,setRecurring:m})]})},Ot=$.a.div(h||(h=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),ft=$.a.input(v||(v=Object(Q.a)(["\n  height: 17px;\n"]))),pt=$.a.div(y||(y=Object(Q.a)(["\n  flex-grow: 1;\n\n  ","\n"])),(function(e){return e.done&&"\n    text-decoration: line-through;\n  "})),xt=$.a.div(m||(m=Object(Q.a)(["\n  font-weight: bold;\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return e.priority===Be&&"\n    color: red;\n  "}),(function(e){return e.priority===ze&&"\n    color: orange;\n  "}),(function(e){return e.priority===Pe&&"\n    color: green;\n  "})),gt=function(e){if(e instanceof Date){var t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear();return"".concat(t,".").concat(n,".").concat(r)}},ht=function(e){var t=e.task,n=Object(H.useContext)(rt).toggleResolved,r=new Date,c=!(!t.due||"function"!==typeof t.due.getTime)&&(r>t.due.getTime()&&!t.done),a=Object(H.useState)(!1),o=Object(ne.a)(a,2),i=o[0],s=o[1],u=function(){return s(!i)},d=t.done?gt(t.closedOn):gt(t.due);return Object(ie.jsx)(we,{overdue:c,editMode:i,done:t.done,children:i?Object(ie.jsx)(jt,{task:t,toggleEditMode:u}):Object(ie.jsxs)(Ot,{children:[Object(ie.jsx)(ft,{type:"checkbox",onChange:function(){return n(t.key)},checked:t.done}),Object(ie.jsx)(xt,{priority:t.priority,children:"!"}),Object(ie.jsxs)(pt,{done:t.done,children:[t.title," ",d&&"(".concat(d,")")]}),Object(ie.jsx)(Ce,{onClick:function(){return u()},children:Object(ie.jsx)(ke.a,{fontSize:"small"})})]})})},vt=n(2),yt={ALPHABETICAL:"Alphabetical",DUE_UNKNOWN_FIRST:"Due (unknown first)",DUE_UNKNOWN_LAST:"Due (unknown last)",PRIORITY:"Priority"},mt=function(e,t){return e.due||t.due?e.due?t.due?e.due-t.due:-1:1:e.title>t.title},kt=(k={},Object(vt.a)(k,yt.ALPHABETICAL,(function(e,t){return e.title>t.title?1:e.title<t.title?-1:0})),Object(vt.a)(k,yt.DUE_UNKNOWN_FIRST,(function(e,t){return e.due||t.due?e.due?t.due?e.due-t.due:1:-1:e.title>t.title})),Object(vt.a)(k,yt.DUE_UNKNOWN_LAST,mt),Object(vt.a)(k,yt.PRIORITY,(function(e,t){return e.priority===t.priority?mt(e,t):e.priority===Be?-1:e.priority===Pe||t.priority===Be?1:t.priority===Pe?-1:void 0})),k),Ct=n(97),Ft=n.n(Ct),wt=$.a.div(C||(C=Object(Q.a)(["\n  display: inline-block;\n  overflow: hidden;\n  font-size: smaller;\n  vertical-align: bottom;\n  color: grey;\n"]))),Et=$.a.div(F||(F=Object(Q.a)(["\n  transition:visibility 0.2s linear,opacity 0.2s linear;\n  display: block;\n  position: absolute;\n  background-color: #FFFFFF;\n  border-style: solid;\n  border-color: #BBBBBB;\n  border-radius: 3px;\n  border-width: 2px;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n  z-index: 1;\n\n  ","\n"])),(function(e){return e.showDropdown?"opacity: 100;":"opacity: 0; visibility:hidden"})),Dt=$.a.div(w||(w=Object(Q.a)(["\n  transition: all 0.1s linear;\n  padding: 5px;\n  ","\n"])),(function(e){return e.selected&&"\n    background: #E0F5FF;\n  "})),St=function(e){var t=e.setSortOrder,n=e.sortOrder,r=Object(H.useState)(!1),c=Object(ne.a)(r,2),a=c[0],o=c[1],i=Object(H.useCallback)((function(e){o(!1),t(e)}),[o,t]);return Object(ie.jsxs)(wt,{children:[Object(ie.jsx)(Ft.a,{onClick:function(){return o(!0)},fontSize:"small"}),Object(ie.jsx)(Et,{showDropdown:a,children:Object.values(yt).map((function(e){return Object(ie.jsx)(Dt,{selected:e===n,onClick:function(){return i(e)},children:e},e)}))})]})},Tt=$.a.h2(E||(E=Object(Q.a)(["\n  font-size: 14pt;\n"]))),It=$.a.div(D||(D=Object(Q.a)(["\n  margin-top: 10px;\n  color: #007799;\n"]))),Lt=Object($.a)(ye)(S||(S=Object(Q.a)(["\n  width: 400px;\n  flex-grow: 1;\n"]))),Mt=function(e){var t=e.taskCategory,n=e.tasks,r=Object(H.useState)(yt.DUE_UNKNOWN_LAST),c=Object(ne.a)(r,2),a=c[0],o=c[1],i=Object(H.useState)(!1),s=Object(ne.a)(i,2),u=s[0],d=s[1],b=kt[a],l=n.filter((function(e){return!e.done})).sort((function(e,t){return b(e,t)})),j=n.filter((function(e){return e.done})).sort((function(e,t){return function(e,t){return e.closedOn===t.closedOn?0:e.closedOn?t.closedOn?t.closedOn-e.closedOn:-1:1}(e,t)})),O=u?"- Hide closed tasks":"+ Show closed tasks";return Object(ie.jsxs)(Lt,{children:[Object(ie.jsxs)(Tt,{children:[Object(ie.jsx)(St,{setSortOrder:o,sortOrder:a})," ",t||"Uncategorized"]}),l.length>0?l.map((function(e){return Object(ie.jsx)(ht,{task:e},e.key)})):"Yay, no tasks",j.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(It,{onClick:function(){return d(!u)},children:O}),u&&j.map((function(e){return Object(ie.jsx)(ht,{task:e},e.key)}))]})]})},Nt=(n(164),Object($.a)(ye)(T||(T=Object(Q.a)(["\n  margin-left: 1rem;\n  margin-right: 1rem;\n  margin-bottom: 0px;\n  background-color: #E0F5FF;\n"])))),Rt=$.a.div(I||(I=Object(Q.a)(["\n  display: flex;\n  gap: 10px;\n"]))),At=Object($.a)(Ce)(L||(L=Object(Q.a)(["\n  margin-top: 15px;\n"]))),Ut=function(){var e=Object(H.useState)((function(){return!1})),t=Object(ne.a)(e,2),n=t[0],r=t[1],c=Object(H.useContext)(rt).addTask,a=Object(H.useState)(""),o=Object(ne.a)(a,2),i=o[0],s=o[1],u=Object(H.useState)(void 0),d=Object(ne.a)(u,2),b=d[0],l=d[1],j=Object(H.useState)(ze),O=Object(ne.a)(j,2),f=O[0],p=O[1],x=Object(H.useState)(void 0),g=Object(ne.a)(x,2),h=g[0],v=g[1],y=Object(H.useState)({}),m=Object(ne.a)(y,2),k=m[0],C=m[1],F=Object(H.useState)(!1),w=Object(ne.a)(F,2),E=w[0],D=w[1],S=Object(H.useState)(!0),T=Object(ne.a)(S,2),I=T[0],L=T[1],M=Object(H.useState)(!1),N=Object(ne.a)(M,2),R=N[0],A=N[1],U=Object(H.useContext)(ot).categories,P=Object(H.useMemo)((function(){return U.flatMap((function(e){var t,n=null===(t=e.rules)||void 0===t?void 0:t.map((function(e){return new RegExp(e)}));return null===n||void 0===n?void 0:n.map((function(t){return{pattern:t,category:e.key}}))})).filter((function(e){return!!e}))}),[U]),z=function(e){var t=e.mode!==Ge||!!h;L(t),C(Object(Ee.a)(Object(Ee.a)({},e),{},{invalid:!t}))};return Object(ie.jsxs)(Nt,{children:[Object(ie.jsxs)(Rt,{children:[Object(ie.jsx)(Le,{description:"New Task",children:Object(ie.jsx)(Se,{value:i,name:"title",validationError:!E&&R,onChange:function(e){return function(e){var t=e.target.value;if(s(t),D(!!t),A(!0),void 0===b){var n=P.find((function(e){return e.pattern.test(t)}));l(null===n||void 0===n?void 0:n.category)}}(e)}})}),Object(ie.jsx)(At,{onClick:function(){return r(!n)},children:n?"\u2796":"\u2795"}),Object(ie.jsx)(At,{onClick:function(){return function(){var e={title:i,category:b,due:h,priority:f,recurrenceMode:k.mode,recurrenceFrequency:k.frequency};z(k),E&&I?(c(e),s(""),l(void 0),p(ze),D(!1),A(!1),C({})):A(!0)}()},primary:!0,children:"Create"})]}),Object(ie.jsx)(Rt,{children:n&&Object(ie.jsx)(dt,{category:b,setCategory:l,due:h,setDue:function(e){var t=k.mode!==Ge||!!e;L(t),v(e),C(Object(Ee.a)(Object(Ee.a)({},k),{},{invalid:!t}))},priority:f,setPriority:p,recurring:k,setRecurring:z})})]})},Pt=$.a.div(M||(M=Object(Q.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: stretch;\n  gap: 15px;\n  padding: 1rem;\n"]))),zt=function(){var e=Object(H.useContext)(ot).categories,t=null===e||void 0===e?void 0:e.sort((function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()})),n=[{key:void 0,name:"Uncategorized"}].concat(Object(Z.a)(t)),r=Object(H.useContext)(rt),c=r.tasks,a=r.setTasks,o=Object(H.useContext)(de).ready,i=et().listenToTaskList,s=Object(H.useContext)(je),u=s.isLoggedIn,d=s.uid;return Object(H.useEffect)((function(){return o&&i(a,d)}),[o,d]),u()?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(he,{page:"Tasks"}),Object(ie.jsx)(Ut,{}),Object(ie.jsx)(Pt,{children:n.map((function(e){return Object(ie.jsx)(Mt,{taskCategory:e.name,tasks:c.filter((function(t){return t.category===e.name||t.category===e.key}))},e.key)}))})]}):Object(ie.jsx)(X.a,{to:"taskhub-fe/login",replace:!0})},Bt=$.a.span(N||(N=Object(Q.a)(["\n  border: 1px solid;\n  border-color: #007799;\n  background-color: #E0F5FF;\n  color: #007799;\n  padding: 0px 2px;\n  border-radius: 3px;\n  white-space:nowrap;\n\n  ","\n"])),(function(e){return e.editMode||"\n    font-size: smaller;\n  "})),Kt=$.a.span(R||(R=Object(Q.a)(["\n  border: 1px solid;\n  border-color: #006666;\n  border-radius: 3px;\n  margin-right: -3px;\n  margin-left: 3px;\n  padding: 0px 5px;\n  background-color: #FFDDDD;\n  color: #CC8888;  \n"]))),Yt=function(e){var t=e.rule,n=e.handleRemoval,r=e.editMode;return Object(ie.jsxs)(Bt,{editMode:r,children:[t,r&&Object(ie.jsx)(Kt,{onClick:function(){return n(t)},children:"X"})]})},_t=$.a.div(A||(A=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),qt=Object($.a)(Ce)(U||(U=Object(Q.a)(["\n  margin-top: 15px;\n"]))),Ht=$.a.div(P||(P=Object(Q.a)(["\n  margin-top: 10px;\n  display: flex;\n  gap: 5px;\n  flex-wrap: wrap;\n"]))),Wt=function(e){var t=e.category,n=e.resetEditedCategory,r=Object(H.useState)(""),c=Object(ne.a)(r,2),a=c[0],o=c[1],i=Object(H.useState)([]),s=Object(ne.a)(i,2),u=s[0],d=s[1],b=Object(H.useState)(""),l=Object(ne.a)(b,2),j=l[0],O=l[1],f=Object(H.useContext)(ot).saveCategory,p=Object(H.useContext)(de).addError;Object(H.useEffect)((function(){o(t.name||""),d(t.rules||[])}),[t]);var x=Object(H.useCallback)((function(){try{new RegExp(j)}catch(e){return void p("Cannot add rule due to invalid format")}d([].concat(Object(Z.a)(u),[j])),O("")}),[u,j,O,d,p]),g=Object(H.useCallback)((function(e){d(u.filter((function(t){return t!==e})))}),[u,d]),h=Object(H.useCallback)((function(e){f(e),n()}),[n,f]),v=Object(Ee.a)(Object(Ee.a)({},t),{},{name:a,rules:u});return Object(ie.jsxs)(ye,{children:[Object(ie.jsxs)(_t,{children:[Object(ie.jsx)(Le,{description:"Name:",children:Object(ie.jsx)(Se,{value:a,onChange:function(e){return o(e.target.value)}})}),Object(ie.jsx)(qt,{onClick:function(){return h(v)},primary:!0,children:"Save"})]}),Object(ie.jsxs)(_t,{children:[Object(ie.jsx)(Le,{description:"Rules (Regex capable)",children:Object(ie.jsx)(Se,{value:j,onChange:function(e){O(e.target.value)}})}),Object(ie.jsx)(qt,{onClick:x,children:"Add"})]}),Object(ie.jsx)(Ht,{children:null===u||void 0===u?void 0:u.map((function(e){return Object(ie.jsx)(Yt,{rule:e,handleRemoval:g,editMode:!0},e)}))})]})},Gt=$.a.div(z||(z=Object(Q.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n"]))),Jt=$.a.div(B||(B=Object(Q.a)(["\n  position: fixed;\n  top: 60px;\n  bottom: 60px;\n  right: 60px;\n  left: 60px;\n  background-color: #FFFFFF;\n  z-index: 3;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\n  padding: 0px 20px;\n  overflow: auto;\n"]))),Vt=function(e){var t=e.children;return Object(ie.jsx)(Gt,{children:Object(ie.jsx)(Jt,{children:t})})},Xt=$.a.div(K||(K=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n\n  ","\n"])),(function(e){return e.isEdited&&"\n    color: #666666;\n  "})),Zt=$.a.div(Y||(Y=Object(Q.a)(["\n  flex-grow: 1;\n"]))),Qt=$.a.div(_||(_=Object(Q.a)(["\n  margin-top: 5px;\n  display: flex;\n  gap: 7px;\n  flex-wrap: wrap;\n"]))),$t=function(e){var t=e.name,n=e.id,r=e.rules,c=e.handleEdit,a=e.isEdited,o=Object(H.useContext)(ot).removeCategory;return Object(ie.jsxs)(ye,{children:[Object(ie.jsxs)(Xt,{isEdited:a,children:[Object(ie.jsx)(Zt,{children:t}),!a&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ce,{onClick:function(){return c(n)},children:"Edit"}),Object(ie.jsx)(Ce,{onClick:function(){return o(n)},children:"Delete"})]})]}),Object(ie.jsx)(Qt,{children:r&&r.map((function(e){return Object(ie.jsx)(Yt,{rule:e})}))})]})},en=function(e){var t=e.categories,n=e.handleEdit,r=e.editedCategory;return(null===t||void 0===t?void 0:t.sort((function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()}))).map((function(e){var t=e.name,c=e.key,a=e.rules;return Object(ie.jsx)($t,{name:t,id:c,rules:a,handleEdit:n,isEdited:r.key===c},c)}))},tn=Object($.a)(Ce)(q||(q=Object(Q.a)(["\n  margin-top: 10px;\n  text-decoration: none;\n  margin-bottom: 10px;\n"]))),nn=function(){var e=Object(H.useContext)(ot).categories,t=Object(H.useContext)(de).errorList,n=Object(H.useState)({rules:[]}),r=Object(ne.a)(n,2),c=r[0],a=r[1],o=Object(H.useCallback)((function(){a({rules:[]})}),[a]);return Object(ie.jsxs)(Vt,{children:[t&&Object(ie.jsx)("p",{children:t.join(",")}),Object(ie.jsx)("h2",{children:"Categories"}),Object(ie.jsx)(Wt,{category:c,resetEditedCategory:o}),Object(ie.jsx)(en,{categories:e,handleEdit:function(t){a(e.find((function(e){return e.key===t})))},editedCategory:c}),Object(ie.jsx)(V.b,{to:Oe,children:Object(ie.jsx)(tn,{primary:!0,children:"Close"})})]})},rn=n(98),cn=n.n(rn),an=function(){var e=Object(H.useContext)(de).ready;if((0,Object(H.useContext)(je).isLoggedIn)())return Object(ie.jsx)(X.a,{to:Oe,replace:!0});var t={signInFlow:"popup",signInOptions:[re.a.PROVIDER_ID],signInSuccessUrl:Oe};return Object(ie.jsxs)(ye,{children:[Object(ie.jsx)(he,{page:"Login"}),e&&Object(ie.jsx)(cn.a,{uiConfig:t,firebaseAuth:Object(re.b)()})]})};var on=function(){return Object(ie.jsx)(ue,{children:Object(ie.jsx)(le,{children:Object(ie.jsx)(nt,{children:Object(ie.jsx)(at,{children:Object(ie.jsx)(V.a,{children:Object(ie.jsxs)(X.d,{children:[Object(ie.jsx)(X.b,{path:"/taskhub-fe/categories",element:Object(ie.jsx)(nn,{})}),Object(ie.jsx)(X.b,{path:"/taskhub-fe/login",element:Object(ie.jsx)(an,{})}),Object(ie.jsx)(X.b,{path:"*",element:Object(ie.jsx)(zt,{})})]})})})})})})},sn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,190)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};J.a.render(Object(ie.jsx)(W.a.StrictMode,{children:Object(ie.jsx)(on,{})}),document.getElementById("root")),sn()}},[[175,1,2]]]);
//# sourceMappingURL=main.341d4500.chunk.js.map